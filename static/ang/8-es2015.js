(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{M4UK:function(e,t,c){"use strict";c.r(t),c.d(t,"CompanyModule",(function(){return tc}));var s=c("PCNd"),n=c("O51e"),i=c("tyNb"),r=c("kt0X"),o=c("pLZG"),a=c("eJuo"),l=c("wd/R"),p=function(e){return e.RequestCompany="[Company] Request Company",e.SetCompany="[Company] Set Company",e.LoadCompanyFail="[Company] Load Company Fail",e.SetDate="[Company] Set Date",e.RequestSlots="[Company] Request Slots",e.SetSlots="[Company] Update Slots",e.SetCurrentSlotId="[Company] Update Current Slot Id",e.LoadSlotsFail="[Company] Load Slots Fail",e.RequestAddAppointmentRequest="[Company] Request Add Appointment to Current",e.SetCurrentEmployeeId="[Company] Set Current Employee Id",e.SetCurrentServiceId="[Company] Set Current Service Id",e.SetCurrentCategoryId="[Company] Set Current Category Id",e.DoNothing="[Company] Do Nothing",e.SetServiceSearch="[Company] Update Service Search",e.RequestCurrentRequest="[Company] Request Current Request",e.SetCurrentRequest="[Company] Update Current Request",e.OpenSlotsForServiceDialog="[Company] Open Slots for Service Dialog",e.RequestRemoveAppointment="[Company] Request Remove Appointment From Request",e.RequestConfirmCart="[Company] Request Confirm Cart",e.RequestPaymentDetails="[Company] Request Payment Details",e.SetPaymentDetails="[Company] Set Payment Details",e.SetCheckoutMode="[Company] Set Checkout Mode",e}({});class d{constructor(e){this.payload=e,this.type=p.RequestCompany}}class u{constructor(e){this.payload=e,this.type=p.SetCompany}}class b{constructor(e){this.payload=e,this.type=p.LoadCompanyFail}}class m{constructor(e){this.payload=e,this.type=p.SetDate}}class h{constructor(){this.type=p.RequestSlots}}class y{constructor(e){this.payload=e,this.type=p.SetSlots}}class f{constructor(e){this.id=e,this.type=p.SetCurrentSlotId}}class g{constructor(e){this.payload=e,this.type=p.LoadSlotsFail}}class v{constructor(){this.type=p.RequestAddAppointmentRequest}}class O{constructor(e){this.payload=e,this.type=p.SetCurrentEmployeeId}}class j{constructor(e){this.payload=e,this.type=p.SetCurrentServiceId}}class S{constructor(e){this.payload=e,this.type=p.SetCurrentCategoryId}}class C{constructor(){this.type=p.DoNothing}}class w{constructor(e){this.payload=e,this.type=p.SetServiceSearch}}class D{constructor(e){this.payload=e,this.type=p.RequestCurrentRequest}}class I{constructor(e){this.payload=e,this.type=p.SetCurrentRequest}}class k{constructor(){this.type=p.OpenSlotsForServiceDialog}}class q{constructor(e){this.payload=e,this.type=p.RequestRemoveAppointment}}class P{constructor(e){this.customerNotes=e,this.type=p.RequestConfirmCart}}class V{constructor(e){this.id=e,this.type=p.RequestPaymentDetails}}class R{constructor(e){this.details=e,this.type=p.SetPaymentDetails}}class W{constructor(e){this.payload=e,this.type=p.SetCheckoutMode}}const M={company:null,date:l.utc().add(1,"day").toISOString(),disableDateInput:!1,currentEmployeeId:null,currentServiceId:null,currentCategoryId:null,serviceSearch:"",slots:[],currentSlotId:null,loadingSlots:!1,apiError:null,currentRequest:null,paymentDetails:null,checkoutMode:!1};function $(e=M,t){switch(t.type){case p.SetCompany:let c=e.currentServiceId;if(null!==e.currentEmployeeId&&null===e.currentServiceId){const s=t.payload.employees.find(t=>t.id===e.currentEmployeeId);c=null===s?null:s.services.find(e=>e==e)}return Object.assign(Object.assign({},e),{company:t.payload,currentCategoryId:t.payload.serviceCategories.map(e=>e.id).find(e=>e==e),apiError:null});case p.LoadCompanyFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case p.SetDate:return Object.assign(Object.assign({},e),{date:t.payload.toISOString()});case p.RequestSlots:return Object.assign(Object.assign({},e),{loadingSlots:!0});case p.SetSlots:let s=0;return Object.assign(Object.assign({},e),{currentSlotId:null,apiError:null,loadingSlots:!1,slots:t.payload.map(e=>({id:s++,title:e.start.format("HH:mm")+" - "+e.end.format("HH:mm"),start:e.start,end:e.end}))});case p.SetCurrentSlotId:return Object.assign(Object.assign({},e),{currentSlotId:t.id});case p.LoadSlotsFail:return Object.assign(Object.assign({},e),{apiError:t.payload,loadingSlots:!1});case p.SetCurrentEmployeeId:return Object.assign(Object.assign({},e),{currentEmployeeId:0===t.payload?null:t.payload});case p.SetCurrentServiceId:return Object.assign(Object.assign({},e),{currentServiceId:t.payload});case p.DoNothing:return Object.assign({},e);case p.SetCurrentCategoryId:return Object.assign(Object.assign({},e),{currentCategoryId:t.payload});case p.SetServiceSearch:return Object.assign(Object.assign({},e),{serviceSearch:t.payload});case p.SetCurrentRequest:return Object.assign(Object.assign({},e),{currentRequest:t.payload,disableDateInput:t.payload.itemsCount>0,date:t.payload.itemsCount>0?t.payload.scheduledDate:e.date});case p.SetPaymentDetails:return Object.assign(Object.assign({},e),{paymentDetails:t.details});case p.SetCheckoutMode:return Object.assign(Object.assign({},e),{checkoutMode:t.payload});default:return e}}const x=Object(r.o)("company"),E=(Object(r.q)(x,e=>e.apiError),Object(r.q)(x,e=>e.checkoutMode)),F=Object(r.q)(x,e=>e.company),A=Object(r.q)(F,e=>e?e.services:null),G=Object(r.q)(F,e=>e?e.serviceCategories:null),N=Object(r.q)(x,e=>e.currentCategoryId),L=Object(r.q)(A,N,(e,t)=>e?e.filter(e=>e.category===t):[]),_=Object(r.q)(F,e=>e?e.employees:[]),B=Object(r.q)(_,A,(e,t)=>e.map(e=>({employee:e,services:t.filter(t=>e.services.includes(t.id))}))),K=Object(r.q)(F,e=>e?e.name:""),T=Object(r.q)(x,e=>e.date),H=Object(r.q)(T,e=>l.utc(e)),Q=Object(r.q)(x,e=>e.currentEmployeeId),U=Object(r.q)(_,Q,(e,t)=>null===e||null===t||0===t?null:e.find(e=>e.id===t)),Y=Object(r.q)(U,A,(e,t)=>t.filter(t=>e.services.includes(t.id))),X=Object(r.q)(x,e=>e.serviceSearch),z=Object(r.q)(Y,X,(e,t)=>e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))),J=Object(r.q)(x,e=>e.currentServiceId),Z=Object(r.q)(A,J,(e,t)=>null===t?null:e.find(e=>e.id===t)),ee=Object(r.q)(x,e=>e.loadingSlots),te=Object(r.q)(x,e=>e.disableDateInput),ce=Object(r.q)(Q,J,(e,t)=>t?e?{service:t,employee:e}:{service:t}:null),se=Object(r.q)(ce,T,te,(e,t,c)=>e&&t?Object.assign(Object.assign({},e),{start:l.utc(t).startOf("day"),end:c?l.utc(t).endOf("day"):l.utc(t).add(1,"d").endOf("day")}):null),ne=Object(r.q)(x,e=>e.slots),ie=(Object(r.q)(U,Z,H,(e,t,c)=>{const s=new a.a;return s.service=t,s.employee=e,s.start=c,s}),Object(r.q)(F,e=>e.config.preBookWarn)),re=(Object(r.q)(F,e=>e.config.postBookMessage),Object(r.q)(x,e=>e.currentRequest)),oe=Object(r.q)(x,e=>e.paymentDetails),ae=(Object(r.q)(re,e=>e.items),Object(r.q)(x,e=>e.currentSlotId)),le=Object(r.q)(ne,ae,(e,t)=>e.find(e=>e.id===t)),pe=Object(r.q)(ce,le,(e,t)=>e&&t?Object.assign(Object.assign({},e),{start:t.start}):null);var de=c("YZpF"),ue=c("fXoL");let be=(()=>{class e{constructor(e,t){this.route=e,this.store=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("cid");this.store.dispatch(new d(e)),this.store.dispatch(new de.d(e)),this.observeAndReloadSlots(),this.requestAddAppointmentFromParams()}ngOnDestroy(){this.subscription.unsubscribe(),this.store.dispatch(new de.d(null)),this.store.dispatch(new j(null))}observeAndReloadSlots(){this.subscription=this.store.pipe(Object(r.t)(se),Object(o.a)(e=>null!==e)).subscribe(e=>this.store.dispatch(new h))}requestAddAppointmentFromParams(){for(const e of this.route.snapshot.queryParamMap.keys)switch(e){case"service":this.store.dispatch(new j(+this.route.snapshot.queryParamMap.get("service")));break;case"employee":this.store.dispatch(new j(+this.route.snapshot.queryParamMap.get("employee")));break;case"date":this.store.dispatch(new m(l.utc(this.route.snapshot.queryParamMap.get("date"))))}this.store.dispatch(new v)}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(i.a),ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-shell"]],decls:1,vars:0,template:function(e,t){1&e&&ue.Rb(0,"router-outlet")},directives:[i.g],styles:[""]}),e})();var me=c("r32Y"),he=c("Ql4B"),ye=c("ofXK");let fe=(()=>{class e{constructor(){this.selectEmployee=new ue.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-list-card"]],inputs:{model:"model"},outputs:{selectEmployee:"selectEmployee"},decls:9,vars:4,consts:[[1,"emp-card-container"],[1,"company-circle-img-7",3,"src"],[1,"emp-card-content"],[1,"h4"],[1,"emp-card-button"],[1,"btn","btn-primary-gradient",3,"routerLink"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Rb(1,"img",1),ue.Wb(2,"div",2),ue.Wb(3,"div",3),ue.Gc(4),ue.Vb(),ue.Gc(5),ue.Wb(6,"div",4),ue.Wb(7,"button",5),ue.Gc(8," Book appointment "),ue.Vb(),ue.Vb(),ue.Vb(),ue.Vb()),2&e&&(ue.Db(1),ue.pc("src",t.model.employee.photoUrl,ue.zc),ue.Db(3),ue.Ic(" ",t.model.employee.name," "),ue.Db(1),ue.Ic(" ",t.model.employee.bio," "),ue.Db(2),ue.qc("routerLink","staff/",t.model.employee.id,""))},directives:[i.c],styles:[".emp-card-container[_ngcontent-%COMP%]{display:flex}.emp-card-content[_ngcontent-%COMP%]{text-align:right;width:100%}.emp-card-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px}.h4[_ngcontent-%COMP%]{text-transform:uppercase}"]}),e})();function ge(e,t){if(1&e&&(ue.Wb(0,"div",2),ue.Rb(1,"company-employee-list-card",3),ue.Vb()),2&e){const e=t.$implicit;ue.Db(1),ue.oc("model",e)}}let ve=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-list"]],inputs:{employees:"employees",companyName:"companyName"},decls:2,vars:2,consts:[[1,"row"],["class","col-sm-12 col-md-6 emp-card-box",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","emp-card-box"],[3,"model"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Ec(1,ge,2,1,"div",1),ue.Vb()),2&e&&(ue.oc("@staggeredFadeIn",void 0),ue.Db(1),ue.oc("ngForOf",t.employees))},directives:[ye.k,fe],styles:[".emp-card-box[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:25px;padding-right:25px}"],data:{animation:[he.b]}}),e})(),Oe=(()=>{class e extends me.a{constructor(e){super(e),this.store=e}ngOnInit(){this.employees$=this.store.pipe(Object(r.t)(B)),this.companyName$=this.store.pipe(Object(r.t)(K))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employees-shell"]],features:[ue.Ab],decls:3,vars:6,consts:[[3,"employees","companyName"]],template:function(e,t){1&e&&(ue.Rb(0,"company-employee-list",0),ue.jc(1,"async"),ue.jc(2,"async")),2&e&&ue.oc("employees",ue.kc(1,2,t.employees$))("companyName",ue.kc(2,4,t.companyName$))},directives:[ve],pipes:[ye.b],styles:[""]}),e})();function je(e,t){if(1&e&&(ue.Wb(0,"div",1),ue.Rb(1,"img",2),ue.Wb(2,"h1",3),ue.Gc(3),ue.Vb(),ue.Vb()),2&e){const e=ue.ic();ue.Db(1),ue.pc("src",e.employee.photoUrl,ue.zc),ue.Db(2),ue.Hc(e.employee.name)}}let Se=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-details-card"]],inputs:{employee:"employee",companyName:"companyName"},decls:1,vars:1,consts:[["class","employee-details-card-container",4,"ngIf"],[1,"employee-details-card-container"],[1,"company-circle-img-7",3,"src"],[1,"w-100","text-right"]],template:function(e,t){1&e&&ue.Ec(0,je,4,2,"div",0),2&e&&ue.oc("ngIf",t.employee)},directives:[ye.l],styles:[".employee-details-card-container[_ngcontent-%COMP%]{display:flex}.blob-holder[_ngcontent-%COMP%]{max-height:20rem}"]}),e})();var Ce=c("3Pt+"),we=c("3lmY"),De=c("Qu3c"),Ie=c("QibW");let ke=(()=>{class e{constructor(){this.selected=new ue.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-service-list-card"]],inputs:{service:"service",checked:"checked"},outputs:{selected:"selected"},decls:11,vars:6,consts:[[1,"service-list-card-container"],[1,"card-title-container"],[3,"matTooltip"],["color","accent",3,"checked","value","click"],[1,"c-primary","text-right"],[1,"tiny","light-grey"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Wb(1,"div",1),ue.Wb(2,"h6",2),ue.Gc(3),ue.Vb(),ue.Vb(),ue.Wb(4,"div"),ue.Wb(5,"mat-radio-button",3),ue.ec("click",(function(){return t.selected.emit(t.service.id)})),ue.Vb(),ue.Vb(),ue.Wb(6,"div",4),ue.Wb(7,"p"),ue.Gc(8),ue.Vb(),ue.Wb(9,"p",5),ue.Gc(10),ue.Vb(),ue.Vb(),ue.Vb()),2&e&&(ue.Db(2),ue.oc("matTooltip",t.service.name),ue.Db(1),ue.Hc(t.service.name),ue.Db(2),ue.oc("checked",t.checked)("value",t.service.id),ue.Db(3),ue.Hc(t.service.price),ue.Db(2),ue.Ic("ETA: ",t.service.duration,""))},directives:[De.a,Ie.a],styles:[".service-list-card-container[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #a1a1a1;margin-bottom:15px;margin-right:20px;white-space:nowrap}.card-title-container[_ngcontent-%COMP%]{text-transform:capitalize;overflow-x:hidden;width:100%}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}.select-circle[_ngcontent-%COMP%]{background:linear-gradient(247.82deg,#f2a1a1,#aa83c3 200.13%);transform:matrix(-1,0,0,1,0,0)}"]}),e})();function qe(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",5),ue.Wb(1,"company-service-list-card",6),ue.ec("selected",(function(t){return ue.yc(e),ue.ic().select.emit(t)})),ue.Vb(),ue.Vb()}if(2&e){const e=t.$implicit,c=ue.ic();ue.Db(1),ue.oc("service",e)("checked",e.id===c.selected)}}let Pe=(()=>{class e{constructor(){this.searchChange=new ue.o,this.select=new ue.o}set search(e){this.searchValue=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-details-services"]],inputs:{services:"services",selected:"selected",search:"search"},outputs:{searchChange:"searchChange",select:"select"},decls:6,vars:3,consts:[[1,"form-holder"],["autocomplete","off","placeholder","search",1,"input-default","w-100",3,"ngModel","ngModelChange","keyup"],[1,"fa","fa-search"],[1,"row","pretty-scroll"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Wb(1,"input",1),ue.ec("ngModelChange",(function(e){return t.searchValue=e}))("keyup",(function(){return t.searchChange.emit(t.searchValue)})),ue.Vb(),ue.Rb(2,"i",2),ue.Vb(),ue.Wb(3,"app-kalendario-card"),ue.Wb(4,"div",3),ue.Ec(5,qe,2,2,"div",4),ue.Vb(),ue.Vb()),2&e&&(ue.Db(1),ue.oc("ngModel",t.searchValue),ue.Db(3),ue.oc("@staggeredFadeIn",void 0),ue.Db(1),ue.oc("ngForOf",t.services))},directives:[Ce.c,Ce.p,Ce.s,we.a,ye.k,ke],styles:[".search-box-container[_ngcontent-%COMP%]{padding:1rem 2rem .5rem;border-radius:10px;background-color:#fff}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;max-height:26.75rem}.form-holder[_ngcontent-%COMP%]{margin-bottom:.75rem}"],data:{animation:[he.b]}}),e})(),Ve=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new w("")),this.services$=this.store.select(z),this.selected$=this.store.select(J),this.search$=this.store.select(X)}setSearch(e){this.store.dispatch(new w(e))}setCurrentService(e){this.store.dispatch(new j(e))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-details-services-shell"]],decls:4,vars:9,consts:[[3,"services","search","selected","searchChange","select"]],template:function(e,t){1&e&&(ue.Wb(0,"company-employee-details-services",0),ue.ec("searchChange",(function(e){return t.setSearch(e)}))("select",(function(e){return t.setCurrentService(e)})),ue.jc(1,"async"),ue.jc(2,"async"),ue.jc(3,"async"),ue.Vb()),2&e&&ue.oc("services",ue.kc(1,3,t.services$))("search",ue.kc(2,5,t.search$))("selected",ue.kc(3,7,t.selected$))},directives:[Pe],pipes:[ye.b],styles:[""]}),e})();var Re=c("6Z0Z"),We=c("kmnG"),Me=c("qFsG"),$e=c("iadO");let xe=(()=>{class e{constructor(){this.eventClick=new ue.o,this.animationState=!1}animateEmit(){this.animationState=!this.animationState,this.eventClick.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-service-slot"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},outputs:{eventClick:"eventClick"},decls:3,vars:6,consts:[[1,"slot-container","bs-primary","m-auto",3,"click"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.ec("click",(function(){return t.animateEmit()})),ue.Wb(1,"p"),ue.Gc(2),ue.Vb(),ue.Vb()),2&e&&(ue.Hb("no-border",t.slot.id===t.currentSlotId)("bg-primary-gradient",t.slot.id===t.currentSlotId),ue.oc("@pulse",t.animationState),ue.Db(2),ue.Hc(t.slot.title))},styles:["p[_ngcontent-%COMP%]{margin:0}.slot-container[_ngcontent-%COMP%]{padding:.5rem;border-radius:3px;text-align:center;width:10rem;cursor:pointer}"],data:{animation:[Object(Re.g)({scale:1.2,duration:300})]}}),e})(),Ee=(()=>{class e{constructor(e){this.store=e}selectSlot(){this.store.dispatch(new f(this.slot.id))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-service-slot-shell"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},decls:1,vars:2,consts:[[3,"slot","currentSlotId","eventClick"]],template:function(e,t){1&e&&(ue.Wb(0,"company-service-slot",0),ue.ec("eventClick",(function(){return t.selectSlot()})),ue.Vb()),2&e&&ue.oc("slot",t.slot)("currentSlotId",t.currentSlotId)},directives:[xe],styles:[""]}),e})();function Fe(e,t){if(1&e&&(ue.Wb(0,"h5"),ue.Gc(1),ue.Vb()),2&e){const e=ue.ic();ue.oc("@flipInYOnEnter",void 0),ue.Db(1),ue.Ic(" ",e.service.name," ")}}function Ae(e,t){if(1&e&&(ue.Wb(0,"h5"),ue.Gc(1),ue.Vb()),2&e){const e=ue.ic();ue.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),ue.Db(1),ue.Ic(" ",e.currentDateFormatted," ")}}function Ge(e,t){if(1&e&&(ue.Wb(0,"h5"),ue.Gc(1),ue.Vb()),2&e){const e=ue.ic();ue.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),ue.Db(1),ue.Ic(" ",e.nextDayFormatted," ")}}function Ne(e,t){if(1&e&&(ue.Wb(0,"div",20),ue.Rb(1,"company-service-slot-shell",21),ue.Vb()),2&e){const e=t.$implicit,c=ue.ic(2);ue.Db(1),ue.oc("slot",e)("currentSlotId",c.currentSlotId)}}function Le(e,t){if(1&e&&(ue.Wb(0,"div",20),ue.Rb(1,"company-service-slot-shell",21),ue.Vb()),2&e){const e=t.$implicit,c=ue.ic(2);ue.Db(1),ue.oc("slot",e)("currentSlotId",c.currentSlotId)}}function _e(e,t){if(1&e&&(ue.Ub(0),ue.Wb(1,"div",18),ue.Ec(2,Ne,2,2,"div",19),ue.Vb(),ue.Wb(3,"div",18),ue.Ec(4,Le,2,2,"div",19),ue.Vb(),ue.Tb()),2&e){const e=ue.ic();ue.Db(1),ue.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),ue.Db(1),ue.oc("ngForOf",e.currentDateSlots()),ue.Db(1),ue.oc("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0),ue.Db(1),ue.oc("ngForOf",e.nextDaySlots())}}let Be=(()=>{class e{constructor(){this.isMobile=!1,this.isLoading=!1,this.hasShadow=!0,this.disableDateInput=!0,this.dateChange=new ue.o,this.book=new ue.o,this.disabledTooltip="remove items from cart to update the date"}set date(e){this.currentDate=e,this.nextDate=e.clone().add(1,"d"),this.currentDateFormatted=this.currentDate.format("ddd DD/MM/YYYY"),this.nextDayFormatted=this.nextDate.format("ddd DD/MM/YYYY")}today(){this.dateChange.emit(l.utc())}previousDay(){this.dateChange.emit(this.currentDate.subtract(1,"day"))}nextDay(){this.dateChange.emit(this.currentDate.add(1,"day"))}currentDateSlots(){return this.serviceSlots.filter(e=>e.start.date()===this.currentDate.date())}nextDaySlots(){return this.serviceSlots.filter(e=>e.start.date()===this.nextDate.date())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-slots-for-service"]],inputs:{serviceSlots:"serviceSlots",currentSlotId:"currentSlotId",isMobile:"isMobile",isLoading:"isLoading",hasShadow:"hasShadow",disableDateInput:"disableDateInput",date:"date",service:"service"},outputs:{dateChange:"dateChange",book:"book"},decls:24,vars:15,consts:[[3,"hasShadow"],[1,"text-center","mb-2",3,"matTooltip"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-accent","mr-2",3,"disabled","click"],[1,"btn","btn-accent-dark","mr-2",3,"disabled","click"],[1,"fa","fa-chevron-left"],[1,"fa","fa-chevron-right"],["appearance","standard"],["matInput","","readonly","",3,"disabled","value","matDatepicker","click","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["dpAppointmentDashboard",""],[1,"slots-container"],[1,"row","no-gutters","text-center","pretty-scroll"],[1,"col-12","c-accent","pb-3","mb-0","sticky-top","bg-white"],[4,"ngIf"],[1,"col-6","pb-3","sticky-top-3","bg-white"],[1,"col-6","sticky-top-3","bg-white"],[1,"col-6"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"slot","currentSlotId"]],template:function(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"app-kalendario-card",0),ue.Wb(1,"div",1),ue.Wb(2,"button",2),ue.ec("click",(function(){return t.book.emit()})),ue.Gc(3," Book Now "),ue.Vb(),ue.Wb(4,"button",3),ue.ec("click",(function(){return t.today()})),ue.Gc(5," Today "),ue.Vb(),ue.Wb(6,"button",4),ue.ec("click",(function(){return t.previousDay()})),ue.Rb(7,"i",5),ue.Vb(),ue.Wb(8,"button",4),ue.ec("click",(function(){return t.nextDay()})),ue.Rb(9,"i",6),ue.Vb(),ue.Wb(10,"mat-form-field",7),ue.Wb(11,"input",8),ue.ec("click",(function(){return ue.yc(e),ue.vc(14).open()}))("dateChange",(function(e){return t.dateChange.emit(e.value)})),ue.Vb(),ue.Rb(12,"mat-datepicker-toggle",9),ue.Rb(13,"mat-datepicker",10,11),ue.Vb(),ue.Vb(),ue.Wb(15,"div",12),ue.Wb(16,"div",13),ue.Wb(17,"div",14),ue.Ec(18,Fe,2,2,"h5",15),ue.Vb(),ue.Wb(19,"div",16),ue.Ec(20,Ae,2,3,"h5",15),ue.Vb(),ue.Wb(21,"div",17),ue.Ec(22,Ge,2,3,"h5",15),ue.Vb(),ue.Ec(23,_e,5,6,"ng-container",15),ue.Vb(),ue.Vb(),ue.Vb()}if(2&e){const e=ue.vc(14);ue.oc("hasShadow",t.hasShadow),ue.Db(1),ue.oc("matTooltip",t.disableDateInput?t.disabledTooltip:""),ue.Db(1),ue.oc("disabled",null===t.currentSlotId),ue.Db(2),ue.oc("disabled",t.disableDateInput),ue.Db(2),ue.oc("disabled",t.disableDateInput),ue.Db(2),ue.oc("disabled",t.disableDateInput),ue.Db(3),ue.oc("disabled",t.disableDateInput)("value",t.currentDate)("matDatepicker",e),ue.Db(1),ue.oc("for",e),ue.Db(1),ue.pc("touchUi",t.isMobile),ue.Db(5),ue.oc("ngIf",t.service&&!t.isLoading),ue.Db(2),ue.oc("ngIf",!t.isLoading),ue.Db(2),ue.oc("ngIf",!t.isLoading),ue.Db(1),ue.oc("ngIf",!t.isLoading)}},directives:[we.a,De.a,We.c,Me.b,$e.d,$e.f,We.h,$e.c,ye.l,ye.k,Ee],styles:[".card-container[_ngcontent-%COMP%]{max-width:632px}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;min-height:28.5rem;height:28.5rem;max-height:28.5rem}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top-3[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:2.5rem;z-index:50}}"],data:{animation:[Object(Re.f)(),Object(Re.d)({delay:500}),Object(Re.e)({duration:300})]}}),e})(),Ke=(()=>{class e extends me.a{constructor(e){super(e),this.store=e,this.hasShadow=!0}ngOnInit(){this.serviceSlots=this.store.select(ne),this.getCurrentSlotId$=this.store.select(ae),this.date$=this.store.select(H),this.service$=this.store.select(Z),this.isLoading$=this.store.select(ee),this.disableDateInput$=this.store.select(te)}setDate(e){this.store.dispatch(new m(e))}addToCart(){this.store.dispatch(new v)}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-slots-for-service-shell"]],inputs:{hasShadow:"hasShadow"},features:[ue.Ab],decls:8,vars:22,consts:[[3,"serviceSlots","currentSlotId","date","service","isLoading","hasShadow","isMobile","disableDateInput","dateChange","book"]],template:function(e,t){1&e&&(ue.Wb(0,"company-slots-for-service",0),ue.ec("dateChange",(function(e){return t.setDate(e)}))("book",(function(){return t.addToCart()})),ue.jc(1,"async"),ue.jc(2,"async"),ue.jc(3,"async"),ue.jc(4,"async"),ue.jc(5,"async"),ue.jc(6,"async"),ue.jc(7,"async"),ue.Vb()),2&e&&ue.oc("serviceSlots",ue.kc(1,8,t.serviceSlots))("currentSlotId",ue.kc(2,10,t.getCurrentSlotId$))("date",ue.kc(3,12,t.date$))("service",ue.kc(4,14,t.service$))("isLoading",ue.kc(5,16,t.isLoading$))("hasShadow",t.hasShadow)("isMobile",ue.kc(6,18,t.isMobile$))("disableDateInput",ue.kc(7,20,t.disableDateInput$))},directives:[Be],pipes:[ye.b],styles:[""]}),e})();function Te(e,t){if(1&e&&(ue.Wb(0,"div",1),ue.Wb(1,"div",2),ue.Rb(2,"company-employee-details-card",3),ue.jc(3,"async"),ue.Vb(),ue.Wb(4,"div",4),ue.Wb(5,"div",5),ue.Rb(6,"company-employee-details-services-shell"),ue.Vb(),ue.Wb(7,"div",5),ue.Rb(8,"company-slots-for-service-shell"),ue.Vb(),ue.Vb(),ue.Vb()),2&e){const e=t.ngIf,c=ue.ic();ue.Db(2),ue.oc("employee",e)("companyName",ue.kc(3,2,c.companyName$))}}let He=(()=>{class e extends me.a{constructor(e,t){super(e),this.store=e,this.route=t}ngOnInit(){const e=+this.route.snapshot.paramMap.get("id");this.store.dispatch(new O(e)),this.model$=this.store.select(U),this.companyName$=this.store.select(K)}ngOnDestroy(){this.store.dispatch(new O(null))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h),ue.Qb(i.a))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-employee-details-page"]],features:[ue.Ab],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mt-4","mb-4"],[3,"employee","companyName"],[1,"row"],[1,"col-sm-12","col-md-6","mb-2"]],template:function(e,t){1&e&&(ue.Ec(0,Te,9,4,"div",0),ue.jc(1,"async")),2&e&&ue.oc("ngIf",ue.kc(1,1,t.model$))},directives:[ye.l,Se,Ve,Ke],pipes:[ye.b],styles:[".employee-services-container[_ngcontent-%COMP%]{padding:1rem}"],changeDetection:0}),e})();var Qe=c("vqYj");function Ue(e,t){if(1&e&&ue.Rb(0,"shared-company-avatar",1),2&e){const e=t.ngIf;ue.oc("logo",e.avatar)("name",e.name)("address",e.address)}}let Ye=(()=>{class e{constructor(e){this.store=e,this.company$=e.select(F)}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-logo-shell"]],decls:2,vars:3,consts:[[3,"logo","name","address",4,"ngIf"],[3,"logo","name","address"]],template:function(e,t){1&e&&(ue.Ec(0,Ue,1,3,"shared-company-avatar",0),ue.jc(1,"async")),2&e&&ue.oc("ngIf",ue.kc(1,1,t.company$))},directives:[ye.l,Qe.a],pipes:[ye.b],styles:[""]}),e})();function Xe(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",6),ue.ec("click",(function(){ue.yc(e);const c=t.$implicit;return ue.ic().update(c.id)})),ue.Gc(1),ue.Vb()}if(2&e){const e=t.$implicit,c=ue.ic();ue.Hb("selected-category",e.id===c.currentCategoryId),ue.Db(1),ue.Ic(" ",e.name," ")}}function ze(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",7),ue.Wb(1,"company-service-list-card",8),ue.ec("selected",(function(t){return ue.yc(e),ue.ic().selectService.emit(t)})),ue.Vb(),ue.Vb()}if(2&e){const e=t.$implicit,c=ue.ic();ue.Db(1),ue.oc("service",e)("checked",e.id===c.currentServiceId)}}let Je=(()=>{class e{constructor(){this.selectCategory=new ue.o,this.selectService=new ue.o,this.animationState=!1}update(e){this.animationState=!this.animationState,this.selectCategory.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-service-list"]],inputs:{services:"services",categories:"categories",currentCategoryId:"currentCategoryId",currentServiceId:"currentServiceId"},outputs:{selectCategory:"selectCategory",selectService:"selectService"},decls:8,vars:5,consts:[[1,"s-l-container"],[1,"s-l-categories"],["class","mb-4 s-l-item",3,"selected-category","click",4,"ngFor","ngForOf"],[1,"s-l-item",3,"click"],[1,"row","no-gutters","pretty-scroll"],["class","col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"mb-4","s-l-item",3,"click"],[1,"col-sm-12","col-md-6"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(ue.Wb(0,"app-kalendario-card"),ue.Wb(1,"div",0),ue.Wb(2,"div",1),ue.Ec(3,Xe,2,3,"div",2),ue.Wb(4,"div",3),ue.ec("click",(function(){return t.update(null)})),ue.Gc(5," Other "),ue.Vb(),ue.Vb(),ue.Wb(6,"div",4),ue.Ec(7,ze,2,2,"div",5),ue.Vb(),ue.Vb(),ue.Vb()),2&e&&(ue.Db(3),ue.oc("ngForOf",t.categories),ue.Db(1),ue.Hb("selected-category",null===t.currentCategoryId),ue.Db(2),ue.oc("@staggeredFadeIn",t.animationState),ue.Db(1),ue.oc("ngForOf",t.services))},directives:[we.a,ye.k,ke],styles:[".s-l-container[_ngcontent-%COMP%]{display:flex;padding:2em}.row[_ngcontent-%COMP%]{max-height:400px;min-height:400px;width:100%;overflow-y:scroll}.selected-category[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.s-l-categories[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;margin-right:2em;font-weight:600;font-size:14px;line-height:17px;letter-spacing:.12em}.s-l-item[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[he.b]}}),e})(),Ze=(()=>{class e{constructor(e){this.store=e,this.services$=this.store.select(L),this.categories$=this.store.select(G),this.currentCategoryId$=this.store.select(N),this.currentServiceId$=this.store.select(J)}updateSelectedCategory(e){this.store.dispatch(new S(e))}updateSelectedService(e){this.store.dispatch(new j(e)),this.store.dispatch(new k)}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-services-shell"]],decls:5,vars:12,consts:[[3,"services","categories","currentCategoryId","currentServiceId","selectCategory","selectService"]],template:function(e,t){1&e&&(ue.Wb(0,"company-service-list",0),ue.ec("selectCategory",(function(e){return t.updateSelectedCategory(e)}))("selectService",(function(e){return t.updateSelectedService(e)})),ue.jc(1,"async"),ue.jc(2,"async"),ue.jc(3,"async"),ue.jc(4,"async"),ue.Vb()),2&e&&ue.oc("services",ue.kc(1,4,t.services$))("categories",ue.kc(2,6,t.categories$))("currentCategoryId",ue.kc(3,8,t.currentCategoryId$))("currentServiceId",ue.kc(4,10,t.currentServiceId$))},directives:[Je],pipes:[ye.b],styles:[""]}),e})();function et(e,t){if(1&e&&(ue.Wb(0,"div"),ue.Wb(1,"div",1),ue.Wb(2,"div",2),ue.Rb(3,"company-logo-shell"),ue.Vb(),ue.Wb(4,"div",2),ue.Wb(5,"div",3),ue.Gc(6,"ALL SERVICES"),ue.Vb(),ue.Rb(7,"company-services-shell"),ue.Vb(),ue.Wb(8,"div",2),ue.Wb(9,"div",4),ue.Gc(10,"OUR TEAM"),ue.Vb(),ue.Rb(11,"company-employees-shell"),ue.Vb(),ue.Wb(12,"div",2),ue.Wb(13,"h1"),ue.Gc(14,"ABOUT US"),ue.Vb(),ue.Gc(15),ue.Vb(),ue.Vb(),ue.Vb()),2&e){const e=t.ngIf;ue.Db(1),ue.oc("@fadeInOnEnter",void 0),ue.Db(4),ue.oc("@fadeInDownOnEnter",void 0),ue.Db(4),ue.oc("@fadeInDownOnEnter",void 0),ue.Db(4),ue.oc("@fadeInDownOnEnter",void 0),ue.Db(2),ue.Ic(" ",e.about," ")}}let tt=(()=>{class e{constructor(e){this.store=e,this.company$=this.store.select(F)}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-landing-page"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container","kalendario-company"],[1,"mb-100"],[1,"h1"],[1,"col-12","h1"]],template:function(e,t){1&e&&(ue.Ec(0,et,16,5,"div",0),ue.jc(1,"async")),2&e&&ue.oc("ngIf",ue.kc(1,1,t.company$))},directives:[ye.l,Ye,Ze,Oe],pipes:[ye.b],styles:[""],data:{animation:[Object(Re.d)(),Object(Re.c)()]},changeDetection:0}),e})();function ct(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"button",8),ue.ec("click",(function(){ue.yc(e);const t=ue.ic().$implicit;return ue.ic().remove.emit(t.id)})),ue.Rb(1,"i",9),ue.Vb()}}function st(e,t){if(1&e&&(ue.Ub(0),ue.Wb(1,"div",5),ue.Wb(2,"h6"),ue.Gc(3),ue.Vb(),ue.Wb(4,"p"),ue.Gc(5),ue.Vb(),ue.Vb(),ue.Wb(6,"div",6),ue.Wb(7,"h6"),ue.Gc(8),ue.Vb(),ue.Ec(9,ct,2,0,"button",7),ue.Vb(),ue.Tb()),2&e){const e=t.$implicit,c=ue.ic();ue.oc("@slideOutLeftOnLeave",void 0),ue.Db(3),ue.Hc(e.service.name),ue.Db(2),ue.Jc(" ",e.start.format("DD/MM/YYYY - HH:mm")," (duration: ",e.service.duration,") "),ue.Db(3),ue.Hc(e.service.price),ue.Db(1),ue.oc("ngIf",c.showBin)}}let nt=(()=>{class e{constructor(){this.remove=new ue.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-request-item"]],inputs:{requestItem:"requestItem",showBin:"showBin"},outputs:{remove:"remove"},decls:7,vars:3,consts:[[1,"r-i-container"],[1,"mt-3","company-circle-img-7",3,"src"],[1,"row","w-100","ml-2"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"col-9"],[1,"col-3","text-right","c-primary"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"],[1,"fa","fa-trash"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Rb(1,"img",1),ue.Wb(2,"div",2),ue.Wb(3,"div",3),ue.Wb(4,"h4"),ue.Gc(5),ue.Vb(),ue.Vb(),ue.Ec(6,st,10,6,"ng-container",4),ue.Vb(),ue.Vb()),2&e&&(ue.Db(1),ue.pc("src",t.requestItem.employee.photoUrl,ue.zc),ue.Db(4),ue.Hc(t.requestItem.employee.name),ue.Db(1),ue.oc("ngForOf",t.requestItem.appointments))},directives:[ye.k,ye.l],styles:[".r-i-container[_ngcontent-%COMP%]{display:flex;margin-bottom:2rem}.company-circle-img-7[_ngcontent-%COMP%]{width:5rem;height:5rem}h4[_ngcontent-%COMP%]{border-bottom:1px solid grey}"],data:{animation:[Object(Re.h)()]}}),e})();function it(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"company-request-item",2),ue.ec("remove",(function(t){return ue.yc(e),ue.ic(2).remove.emit(t)})),ue.Vb()}if(2&e){const e=t.$implicit,c=ue.ic(2);ue.oc("requestItem",e)("showBin",!c.checkoutMode)}}function rt(e,t){if(1&e&&(ue.Wb(0,"app-kalendario-card"),ue.Ec(1,it,1,2,"company-request-item",1),ue.Vb()),2&e){const e=ue.ic();ue.Db(1),ue.oc("ngForOf",e.request.items)}}let ot=(()=>{class e{constructor(){this.remove=new ue.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-request"]],inputs:{request:"request",checkoutMode:"checkoutMode"},outputs:{remove:"remove"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"requestItem","showBin","remove",4,"ngFor","ngForOf"],[3,"requestItem","showBin","remove"]],template:function(e,t){1&e&&ue.Ec(0,rt,2,1,"app-kalendario-card",0),2&e&&ue.oc("ngIf",t.request)},directives:[ye.l,we.a,ye.k,nt],styles:[""]}),e})();var at=c("mrSG"),lt=c("SxV6"),pt=c("lJxs"),dt=c("eIep"),ut=c("2Vo4"),bt=c("Cfvw");const mt=["stripeElementRef"],ht=new ue.r("Stripe Publishable Key"),yt=new ue.r("Stripe Options");let ft=(()=>{let e=class{constructor(e){this.platformId=e}getNativeWindow(){return Object(ye.v)(this.platformId)?window:{}}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(ue.C))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})(),gt=(()=>{let e=class{constructor(e){this.platformId=e}getNativeDocument(){return Object(ye.v)(this.platformId)?document:{}}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(ue.C))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})(),vt=(()=>{let e=class{constructor(e,t,c){this.platformId=e,this.window=t,this.document=c,this.status=new ut.a({error:!1,loaded:!1,loading:!1})}asStream(){return this.load(),this.status.asObservable()}isReady(){return this.status.getValue().loaded}load(){if(Object(ye.w)(this.platformId))return;const e=this.status.getValue();if(this.window.getNativeWindow().hasOwnProperty("Stripe"))this.status.next({error:!1,loaded:!0,loading:!1});else if(!e.loaded&&!e.loading){this.status.next(Object.assign(Object.assign({},e),{loading:!0}));const t=this.document.getNativeDocument().createElement("script");t.type="text/javascript",t.async=!0,t.defer=!0,t.src="https://js.stripe.com/v3/",t.onload=()=>{this.status.next({error:!1,loaded:!0,loading:!1})},t.onerror=()=>{this.status.next({error:!0,loaded:!1,loading:!1})},this.document.getNativeDocument().body.appendChild(t)}}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(ue.C),ue.ac(ft),ue.ac(gt))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})();class Ot{constructor(e,t,c,s){this.loader=e,this.window=t,this.key=c,this.options=s,this.stripe$=new ut.a(void 0),this.stripe=this.stripe$.asObservable().pipe(Object(o.a)(e=>Boolean(e))),this.loader.asStream().pipe(Object(o.a)(e=>!0===e.loaded),Object(lt.a)(),Object(pt.a)(()=>this.window.getNativeWindow().Stripe)).subscribe(e=>{const t=this.options?e(this.key,this.options):e(this.key);this.stripe$.next(t)})}getInstance(){return this.stripe$.getValue()}elements(e){return this.stripe$.asObservable().pipe(Object(o.a)(e=>Boolean(e)),Object(pt.a)(t=>t.elements(e)),Object(lt.a)())}redirectToCheckout(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.redirectToCheckout(e))),Object(lt.a)())}confirmAuBecsDebitPayment(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.confirmAuBecsDebitPayment(e,t))),Object(lt.a)())}confirmBancontactPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmBancontactPayment(e,t,c))),Object(lt.a)())}confirmCardPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmCardPayment(e,t,c))),Object(lt.a)())}confirmEpsPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmEpsPayment(e,t,c))),Object(lt.a)())}confirmFpxPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmFpxPayment(e,t,c))),Object(lt.a)())}confirmGiropayPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmGiropayPayment(e,t,c))),Object(lt.a)())}confirmIdealPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmIdealPayment(e,t,c))),Object(lt.a)())}confirmP24Payment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmP24Payment(e,t,c))),Object(lt.a)())}confirmSepaDebitPayment(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.confirmSepaDebitPayment(e,t))),Object(lt.a)())}handleCardAction(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.handleCardAction(e))),Object(lt.a)())}createPaymentMethod(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.createPaymentMethod(e))),Object(lt.a)())}retrievePaymentIntent(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.retrievePaymentIntent(e))),Object(lt.a)())}confirmAuBecsDebitSetup(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.confirmAuBecsDebitSetup(e,t))),Object(lt.a)())}confirmCardSetup(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmCardSetup(e,t,c))),Object(lt.a)())}confirmSepaDebitSetup(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.confirmSepaDebitSetup(e,t))),Object(lt.a)())}retrieveSetupIntent(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.confirmSepaDebitSetup(e))),Object(lt.a)())}paymentRequest(e){const t=this.getInstance();return t?t.paymentRequest(e):void 0}createToken(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.createToken(e,t))),Object(lt.a)())}createSource(e,t){return this.stripe.pipe(Object(dt.a)(c=>Object(bt.a)(c.createSource(e,t))),Object(lt.a)())}retrieveSource(e){return this.stripe.pipe(Object(dt.a)(t=>Object(bt.a)(t.retrieveSource(e))),Object(lt.a)())}handleCardPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.handleCardPayment(e,t,c))),Object(lt.a)())}confirmPaymentIntent(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmPaymentIntent(e,t,c))),Object(lt.a)())}handleCardSetup(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.handleCardSetup(e,t,c))),Object(lt.a)())}confirmSetupIntent(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.confirmSetupIntent(e,t,c))),Object(lt.a)())}handleFpxPayment(e,t,c){return this.stripe.pipe(Object(dt.a)(s=>Object(bt.a)(s.handleFpxPayment(e,t,c))),Object(lt.a)())}}let jt=(()=>{let e=class{constructor(e,t,c,s){this.key=e,this.options=t,this.loader=c,this.window=s,e&&(this.stripe=new Ot(this.loader,this.window,e,t))}getStripeReference(){return this.loader.asStream().pipe(Object(o.a)(e=>!0===e.loaded),Object(pt.a)(()=>this.window.getNativeWindow().Stripe))}getInstance(){return this.stripe.getInstance()}setKey(e,t){return this.changeKey(e,t)}changeKey(e,t){return this.stripe=new Ot(this.loader,this.window,e,t),this.stripe}elements(e){return this.stripe.elements(e)}redirectToCheckout(e){return this.stripe.redirectToCheckout(e)}confirmAuBecsDebitPayment(e,t){return this.stripe.confirmAuBecsDebitPayment(e,t)}confirmBancontactPayment(e,t,c){return this.stripe.confirmBancontactPayment(e,t,c)}confirmCardPayment(e,t,c){return this.stripe.confirmCardPayment(e,t,c)}confirmEpsPayment(e,t,c){return this.stripe.confirmEpsPayment(e,t,c)}confirmFpxPayment(e,t,c){return this.stripe.confirmFpxPayment(e,t,c)}confirmGiropayPayment(e,t,c){return this.stripe.confirmGiropayPayment(e,t,c)}confirmIdealPayment(e,t,c){return this.stripe.confirmIdealPayment(e,t,c)}confirmP24Payment(e,t,c){return this.stripe.confirmP24Payment(e,t,c)}confirmSepaDebitPayment(e,t){return this.stripe.confirmSepaDebitPayment(e,t)}handleCardAction(e){return this.stripe.handleCardAction(e)}createPaymentMethod(e){return this.stripe.createPaymentMethod(e)}retrievePaymentIntent(e){return this.stripe.retrievePaymentIntent(e)}confirmAuBecsDebitSetup(e,t){return this.stripe.confirmAuBecsDebitSetup(e,t)}confirmCardSetup(e,t,c){return this.stripe.confirmCardSetup(e,t,c)}confirmSepaDebitSetup(e,t){return this.stripe.confirmSepaDebitSetup(e,t)}retrieveSetupIntent(e){return this.stripe.retrieveSetupIntent(e)}paymentRequest(e){return this.stripe.paymentRequest(e)}createToken(e,t){return this.stripe.createToken(e,t)}createSource(e,t){return this.stripe.createSource(e,t)}retrieveSource(e){return this.stripe.retrieveSource(e)}handleCardPayment(e,t,c){return this.stripe.handleCardPayment(e,t,c)}confirmPaymentIntent(e,t,c){return this.stripe.confirmPaymentIntent(e,t,c)}handleCardSetup(e,t,c){return this.stripe.handleCardSetup(e,t,c)}confirmSetupIntent(e,t,c){return this.stripe.confirmSetupIntent(e,t,c)}handleFpxPayment(e,t,c){return this.stripe.handleFpxPayment(e,t,c)}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(ht),ue.ac(yt),ue.ac(vt),ue.ac(ft))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})(),St=(()=>{let e=class{constructor(e){this.stripeService=e}elements(e,t={}){return e?Object.keys(t).length>0?e.elements(t):e.elements():Object.keys(t).length>0?this.stripeService.elements(t):this.stripeService.elements()}paymentRequest(e,t){return e?e.paymentRequest(t):this.stripeService.paymentRequest(t)}mergeOptions(e,t){return!t||e&&e.classes||e&&e.classes?e||{}:Object.assign(Object.assign({},e||{}),{classes:{base:t,complete:t+"--complete",empty:t+"--empty",focus:t+"--focus",invalid:t+"--invalid",webkitAutoFill:t+"--webkit-autoFill"}})}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(jt))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})(),Ct=(()=>{let e=class{constructor(e){this.stripeElementsService=e,this.load=new ue.o,this.blur=new ue.o,this.change=new ue.o,this.focus=new ue.o,this.ready=new ue.o,this.escape=new ue.o,this.state="notready"}ngOnChanges(e){return Object(at.a)(this,void 0,void 0,(function*(){this.state="starting";const t=this.stripeElementsService.mergeOptions(this.options,this.containerClass);let c=!1;(e.elementsOptions||e.stripe||!this.elements)&&(this.elements=yield this.stripeElementsService.elements(this.stripe,this.elementsOptions).toPromise(),c=!0),(e.options||e.containerClass||!this.element||c)&&(this.element&&!c?this.update(t):this.elements&&c&&this.createElement(t)),this.state="ready"}))}ngOnInit(){return Object(at.a)(this,void 0,void 0,(function*(){"notready"===this.state&&(this.state="starting",this.elements=yield this.stripeElementsService.elements(this.stripe).toPromise(),this.createElement(),this.state="ready")}))}ngOnDestroy(){this.element&&this.element.destroy()}update(e){this.element.update(e)}getCard(){return this.element}createElement(e={}){this.element=this.elements.create("card",e),this.element.on("change",e=>this.change.emit(e)),this.element.on("blur",()=>this.blur.emit()),this.element.on("focus",()=>this.focus.emit()),this.element.on("ready",()=>this.ready.emit()),this.element.on("escape",()=>this.escape.emit()),this.element.mount(this.stripeElementRef.nativeElement),this.load.emit(this.element)}};return e.\u0275fac=function(t){return new(t||e)(ue.Qb(St))},e.\u0275cmp=ue.Kb({type:e,selectors:[["ngx-stripe-card"]],viewQuery:function(e,t){var c;1&e&&ue.Lc(mt,!0),2&e&&ue.uc(c=ue.fc())&&(t.stripeElementRef=c.first)},inputs:{containerClass:"containerClass",options:"options",elementsOptions:"elementsOptions",stripe:"stripe"},outputs:{load:"load",blur:"blur",change:"change",focus:"focus",ready:"ready",escape:"escape"},features:[ue.Bb],decls:2,vars:0,consts:[[1,"field"],["stripeElementRef",""]],template:function(e,t){1&e&&ue.Rb(0,"div",0,1)},encapsulation:2}),e})(),wt=(()=>{let e=class{constructor(e,t,c,s){this.baseKey=e,this.baseOptions=t,this.loader=c,this.window=s}create(e,t){return e||this.baseKey?new Ot(this.loader,this.window,e||this.baseKey,t||this.baseOptions):null}};return e.\u0275fac=function(t){return new(t||e)(ue.ac(ht),ue.ac(yt),ue.ac(vt),ue.ac(ft))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),e})();var Dt;let It=(()=>{let e=Dt=class{static forRoot(e,t){return{ngModule:Dt,providers:[vt,jt,wt,St,ft,gt,{provide:ht,useValue:e},{provide:yt,useValue:t}]}}static forChild(e,t){return{ngModule:Dt,providers:[vt,jt,wt,St,ft,gt,{provide:ht,useValue:e},{provide:yt,useValue:t}]}}};return e.\u0275mod=ue.Ob({type:e}),e.\u0275inj=ue.Nb({factory:function(t){return new(t||e)}}),e})(),kt=(()=>{class e{constructor(e){this.stripeService=e,this.confirmPay=new ue.o,this.cardOptions={style:qt}}emitPay(){return Object(at.a)(this,void 0,void 0,(function*(){this.stripeService.confirmCardPayment(this.clientSecret,{payment_method:{card:this.card.element}}).toPromise().then(({paymentIntent:e,error:t})=>{t&&(this.error=t),e&&this.confirmPay.emit(e)})}))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(jt))},e.\u0275cmp=ue.Kb({type:e,selectors:[["stripe-card-element"]],viewQuery:function(e,t){var c;1&e&&ue.Lc(Ct,!0),2&e&&ue.uc(c=ue.fc())&&(t.card=c.first)},inputs:{clientSecret:"clientSecret",total:"total"},outputs:{confirmPay:"confirmPay"},decls:13,vars:3,consts:[[1,"row"],[1,"col-12","stripe-card-container"],[3,"options"],[1,"c-warn"],[1,"col-12","text-right"],[1,"btn","btn-danger"],[1,"btn","btn-primary-gradient",3,"click"],[1,"pay-container"],[1,"ammount-container"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Wb(1,"div",1),ue.Rb(2,"ngx-stripe-card",2),ue.Wb(3,"div",3),ue.Gc(4),ue.Vb(),ue.Vb(),ue.Wb(5,"div",4),ue.Wb(6,"button",5),ue.Gc(7,"Cancel"),ue.Vb(),ue.Wb(8,"button",6),ue.ec("click",(function(){return t.emitPay()})),ue.Wb(9,"span",7),ue.Gc(10,"Pay"),ue.Vb(),ue.Wb(11,"span",8),ue.Gc(12),ue.Vb(),ue.Vb(),ue.Vb(),ue.Vb()),2&e&&(ue.Db(2),ue.oc("options",t.cardOptions),ue.Db(2),ue.Ic(" ",null==t.error?null:t.error.message," "),ue.Db(8),ue.Hc(t.total))},directives:[Ct],styles:[".stripe-card-container[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15);box-shadow:0 5px 10px rgba(0,0,0,.15);border-radius:8px;padding-top:.5rem;padding-bottom:.5rem;margin-bottom:2rem}.pay-container[_ngcontent-%COMP%]{margin-right:.5rem}"]}),e})();const qt={base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}};function Pt(e,t){if(1&e&&(ue.Ub(0),ue.Wb(1,"div",11),ue.Gc(2),ue.Vb(),ue.Wb(3,"div",6),ue.Gc(4),ue.Vb(),ue.Tb()),2&e){const e=t.$implicit;ue.Db(2),ue.Hc(e.service.name),ue.Db(2),ue.Hc(e.service.price)}}function Vt(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",1),ue.Wb(1,"mat-form-field"),ue.Wb(2,"textarea",12),ue.ec("ngModelChange",(function(t){return ue.yc(e),ue.ic().customerNotes=t})),ue.Vb(),ue.Vb(),ue.Wb(3,"button",13),ue.ec("click",(function(){return ue.yc(e),ue.ic().proceedCheckout()})),ue.Gc(4,"Proceed to Checkout"),ue.Vb(),ue.Vb()}if(2&e){const e=ue.ic();ue.Db(2),ue.oc("ngModel",e.customerNotes)}}function Rt(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",1),ue.Wb(1,"stripe-card-element",17),ue.ec("confirmPay",(function(){return ue.yc(e),ue.ic(2).confirmRequest()})),ue.jc(2,"currency"),ue.Vb(),ue.Vb()}if(2&e){const e=ue.ic(2);ue.Db(1),ue.oc("total",ue.lc(2,2,e.request.total,"\u20ac"))("clientSecret",e.paymentDetails.clientSecret)}}function Wt(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"button",20),ue.ec("click",(function(){ue.yc(e);const t=ue.ic(3);return t.requestPaymentDetails.emit(t.request.id)})),ue.Gc(1," Pay with Card "),ue.Vb()}}function Mt(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"button",21),ue.ec("click",(function(){return ue.yc(e),ue.ic(3).confirmRequest()})),ue.Gc(1," Pay Cash Onsite "),ue.Vb()}}function $t(e,t){if(1&e&&(ue.Wb(0,"div",1),ue.Ec(1,Wt,2,0,"button",18),ue.Ec(2,Mt,2,0,"button",19),ue.Vb()),2&e){const e=ue.ic(2);ue.Db(1),ue.oc("ngIf",e.company.config.canReceiveCardPayments),ue.Db(1),ue.oc("ngIf",e.company.config.canReceiveUnpaidRequest)}}function xt(e,t){if(1&e&&(ue.Wb(0,"div",1),ue.Wb(1,"div",14),ue.Wb(2,"div",15),ue.Gc(3,"Notes"),ue.Vb(),ue.Wb(4,"p"),ue.Gc(5),ue.Vb(),ue.Vb(),ue.Vb(),ue.Ec(6,Rt,3,5,"div",16),ue.Ec(7,$t,3,2,"div",16)),2&e){const e=ue.ic();ue.Db(5),ue.Hc(e.customerNotes),ue.Db(1),ue.oc("ngIf",e.paymentDetails),ue.Db(1),ue.oc("ngIf",!e.paymentDetails)}}let Et=(()=>{class e{constructor(){this.confirm=new ue.o,this.checkout=new ue.o,this.requestPaymentDetails=new ue.o}appointments(){return this.request.items.reduce((e,t)=>e.concat(t.appointments),[])}proceedCheckout(){this.checkout.emit(!0)}confirmRequest(){this.confirm.emit(this.customerNotes)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ue.Kb({type:e,selectors:[["company-cart-summary"]],inputs:{request:"request",company:"company",paymentDetails:"paymentDetails",preBookMessage:"preBookMessage",checkoutMode:"checkoutMode"},outputs:{confirm:"confirm",checkout:"checkout",requestPaymentDetails:"requestPaymentDetails"},decls:22,vars:12,consts:[[1,"row","m-4"],[1,"col-12"],[1,"col-12","m-4"],[4,"ngFor","ngForOf"],[1,"col-12","m-2"],[1,"col-9","h6"],[1,"col-3","text-right","c-primary"],[1,"col-9","h5"],[1,"col-3","h5","text-right","c-primary"],["class","col-12",4,"ngIf","ngIfElse"],["checkoutContainer",""],[1,"col-9"],["matInput","","placeholder","additional information",3,"ngModel","ngModelChange"],[1,"btn","btn-block","btn-primary",3,"click"],[1,"additional-info-box"],[1,"additional-info-box-title","text-small"],["class","col-12",4,"ngIf"],[3,"total","clientSecret","confirmPay"],["class","btn btn-primary mr-2",3,"click",4,"ngIf"],["class","btn btn-accent",3,"click",4,"ngIf"],[1,"btn","btn-primary","mr-2",3,"click"],[1,"btn","btn-accent",3,"click"]],template:function(e,t){if(1&e&&(ue.Wb(0,"app-kalendario-card"),ue.Wb(1,"div",0),ue.Wb(2,"div",1),ue.Rb(3,"company-logo-shell"),ue.Vb(),ue.Wb(4,"div",2),ue.Gc(5),ue.Vb(),ue.Ec(6,Pt,5,2,"ng-container",3),ue.Rb(7,"div",4),ue.Wb(8,"div",5),ue.Gc(9," Kalendario Fee "),ue.Vb(),ue.Wb(10,"div",6),ue.Gc(11),ue.jc(12,"currency"),ue.Vb(),ue.Rb(13,"div",4),ue.Wb(14,"div",7),ue.Gc(15," TOTAL "),ue.Vb(),ue.Wb(16,"div",8),ue.Gc(17),ue.jc(18,"currency"),ue.Vb(),ue.Ec(19,Vt,5,1,"div",9),ue.Ec(20,xt,8,3,"ng-template",null,10,ue.Fc),ue.Vb(),ue.Vb()),2&e){const e=ue.vc(21);ue.Db(5),ue.Ic(" ",t.preBookMessage," "),ue.Db(1),ue.oc("ngForOf",t.appointments()),ue.Db(5),ue.Hc(ue.lc(12,6,t.request.fee,"\u20ac")),ue.Db(6),ue.Hc(ue.lc(18,9,t.request.total,"\u20ac")),ue.Db(2),ue.oc("ngIf",!t.checkoutMode)("ngIfElse",e)}},directives:[we.a,Ye,ye.k,ye.l,We.c,Me.b,Ce.c,Ce.p,Ce.s,kt],pipes:[ye.d],styles:[".row[_ngcontent-%COMP%]{font-weight:500}.col-9[_ngcontent-%COMP%]{margin-bottom:1rem}.additional-info-box[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.15);border-radius:8px;margin-bottom:1.5rem;padding:0 1rem}.additional-info-box-title[_ngcontent-%COMP%]{position:relative;bottom:1rem;background-color:#fff;display:inline-block}"]}),e})();function Ft(e,t){if(1&e){const e=ue.Xb();ue.Wb(0,"div",2),ue.Wb(1,"div",3),ue.Wb(2,"company-request",4),ue.ec("remove",(function(t){return ue.yc(e),ue.ic().removeItem(t)})),ue.jc(3,"async"),ue.Vb(),ue.Vb(),ue.Wb(4,"div",3),ue.Wb(5,"company-cart-summary",5),ue.ec("requestPaymentDetails",(function(t){return ue.yc(e),ue.ic().requestPaymentDetails(t)}))("checkout",(function(t){return ue.yc(e),ue.ic().setCheckoutMode(t)}))("confirm",(function(t){return ue.yc(e),ue.ic().confirm(t)})),ue.jc(6,"async"),ue.jc(7,"async"),ue.jc(8,"async"),ue.jc(9,"async"),ue.Vb(),ue.Vb(),ue.Vb()}if(2&e){const e=t.ngIf,c=ue.ic();ue.Db(2),ue.oc("request",e)("checkoutMode",ue.kc(3,7,c.checkoutMode$)),ue.Db(3),ue.oc("request",e)("company",ue.kc(6,9,c.company$))("preBookMessage",ue.kc(7,11,c.preBookMessage$))("paymentDetails",ue.kc(8,13,c.paymentDetails$))("checkoutMode",ue.kc(9,15,c.checkoutMode$))}}let At=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.request$=this.store.select(re),this.company$=this.store.select(F),this.paymentDetails$=this.store.select(oe),this.preBookMessage$=this.store.select(ie),this.checkoutMode$=this.store.select(E)}ngOnDestroy(){this.store.dispatch(new R(null)),this.store.dispatch(new W(!1))}removeItem(e){this.store.dispatch(new q(e))}requestPaymentDetails(e){this.store.dispatch(new V(e))}confirm(e){this.store.dispatch(new P(e))}setCheckoutMode(e){this.store.dispatch(new W(e))}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(r.h))},e.\u0275cmp=ue.Kb({type:e,selectors:[["app-cart-page"]],decls:3,vars:3,consts:[[1,"container"],["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-sm-12","col-md-6"],[3,"request","checkoutMode","remove"],[3,"request","company","preBookMessage","paymentDetails","checkoutMode","requestPaymentDetails","checkout","confirm"]],template:function(e,t){1&e&&(ue.Wb(0,"div",0),ue.Ec(1,Ft,10,17,"div",1),ue.jc(2,"async"),ue.Vb()),2&e&&(ue.Db(1),ue.oc("ngIf",ue.kc(2,1,t.request$)))},directives:[ye.l,ot,Et],pipes:[ye.b],styles:[""],changeDetection:0}),e})();var Gt=c("LjFu");const Nt=[{path:":cid",component:be,children:[{path:"staff",component:Oe},{path:"staff/:id",component:He},{path:"cart",component:At,canActivate:[Gt.a]},{path:"",component:tt}]}];let Lt=(()=>{class e{}return e.\u0275mod=ue.Ob({type:e}),e.\u0275inj=ue.Nb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(Nt)],i.f]}),e})();var _t=c("snw9"),Bt=c("LRne"),Kt=c("5+tZ"),Tt=c("JIr8"),Ht=c("zp1y"),Qt=c("vkgz"),Ut=c("0IaG");let Yt=(()=>{class e{constructor(e){this.dialogRef=e}}return e.\u0275fac=function(t){return new(t||e)(ue.Qb(Ut.g))},e.\u0275cmp=ue.Kb({type:e,selectors:[["app-slots-for-service-dialog"]],decls:2,vars:1,consts:[[3,"hasShadow"]],template:function(e,t){1&e&&(ue.Wb(0,"mat-dialog-content"),ue.Rb(1,"company-slots-for-service-shell",0),ue.Vb()),2&e&&(ue.Db(1),ue.oc("hasShadow",!1))},directives:[Ut.e,Ke],styles:[""]}),e})();var Xt=c("2Sd8"),zt=c("3WbM");let Jt=(()=>{class e{constructor(e,t,c,s,n,i,r){this.actions$=e,this.store=t,this.requestClient=c,this.companyClient=s,this.toast=n,this.router=i,this.dialog=r,this.RequestCompany$=this.actions$.pipe(Object(_t.e)(p.RequestCompany),Object(pt.a)(e=>e.payload),Object(dt.a)(e=>this.companyClient.fromName(e).pipe(Object(Kt.a)(e=>[new u(e),new D(e.id)]),Object(Tt.a)(e=>Object(Bt.a)(new b(e)))))),this.RequestSlots$=this.actions$.pipe(Object(_t.e)(p.RequestSlots),Object(Ht.a)(this.store.select(se)),Object(Kt.a)(([e,t])=>this.companyClient.slots(t).pipe(Object(pt.a)(e=>new y(e)),Object(Tt.a)(e=>Object(Bt.a)(new g(e)))))),this.RequestCurrentRequest$=this.actions$.pipe(Object(_t.e)(p.RequestCurrentRequest),Object(pt.a)(e=>e.payload),Object(Kt.a)(e=>this.requestClient.current(e).pipe(Object(pt.a)(e=>new I(e)),Object(Tt.a)(e=>Object(Bt.a)(new g(e)))))),this.UpdateCurrentRequest=this.actions$.pipe(Object(_t.e)(p.SetCurrentRequest),Object(pt.a)(e=>e.payload),Object(pt.a)(e=>new de.e(e.itemsCount))),this.RequestAddAppointmentRequest$=this.actions$.pipe(Object(_t.e)(p.RequestAddAppointmentRequest),Object(Ht.a)(this.store.select(pe),this.store.select(de.l)),Object(Kt.a)(([e,t,c])=>t?(c||(this.closeDialog(),this.router.navigate(["login"],{queryParams:Object.assign({returnUrl:this.router.routerState.snapshot.url},t)})),this.requestClient.createAppointment(t).pipe(Object(Qt.a)(e=>this.toast.success("Added to Cart")),Object(Qt.a)(e=>this.closeDialog()),Object(Kt.a)(e=>[new h,new I(e)]),Object(Tt.a)(e=>Object(Bt.a)(new g(e))))):Object(Bt.a)(new C))),this.RequestRemoveAppointment$=this.actions$.pipe(Object(_t.e)(p.RequestRemoveAppointment),Object(pt.a)(e=>e.payload),Object(Ht.a)(this.store.select(re)),Object(Kt.a)(([e,t])=>this.requestClient.delete(t.id,e.toString(),t.owner.id.toString()).pipe(Object(Qt.a)(e=>this.toast.success("Appointment removed from Cart")),Object(Qt.a)(e=>this.closeDialog()),Object(pt.a)(e=>new I(e)),Object(Tt.a)(e=>Object(Bt.a)(new g(e)))))),this.RequestConfirmCart$=this.actions$.pipe(Object(_t.e)(p.RequestConfirmCart),Object(pt.a)(e=>e.customerNotes),Object(Ht.a)(this.store.select(re)),Object(Kt.a)(([e,t])=>this.requestClient.confirm(t.id,e).pipe(Object(Qt.a)(e=>this.router.navigate(["cust","requests"],{queryParams:{id:t.id}})),Object(pt.a)(e=>new I(e)),Object(Tt.a)(e=>Object(Bt.a)(new g(e)))))),this.RequestPaymentDetails$=this.actions$.pipe(Object(_t.e)(p.RequestPaymentDetails),Object(pt.a)(e=>e.id),Object(Kt.a)(e=>this.requestClient.payment(e).pipe(Object(pt.a)(e=>new R(e)),Object(Tt.a)(e=>Object(Bt.a)(new g(e)))))),this.OpenSlotsForServiceDialog$=this.actions$.pipe(Object(_t.e)(p.OpenSlotsForServiceDialog),Object(pt.a)(e=>{this.dialogRef=this.dialog.open(Yt,{width:"90vw"})}))}closeDialog(){this.dialogRef&&this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(ue.ac(_t.a),ue.ac(r.h),ue.ac(Xt.g),ue.ac(Xt.c),ue.ac(zt.a),ue.ac(i.b),ue.ac(Ut.b))},e.\u0275prov=ue.Mb({token:e,factory:e.\u0275fac}),Object(at.b)([Object(_t.b)()],e.prototype,"RequestCompany$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestSlots$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestCurrentRequest$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"UpdateCurrentRequest",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestAddAppointmentRequest$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestRemoveAppointment$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestConfirmCart$",void 0),Object(at.b)([Object(_t.b)()],e.prototype,"RequestPaymentDetails$",void 0),Object(at.b)([Object(_t.b)({dispatch:!1})],e.prototype,"OpenSlotsForServiceDialog$",void 0),e})();var Zt=c("AytR");let ec=(()=>{class e{}return e.\u0275mod=ue.Ob({type:e}),e.\u0275inj=ue.Nb({factory:function(t){return new(t||e)},imports:[[It.forRoot(Zt.a.stripePk)]]}),e})(),tc=(()=>{class e{}return e.\u0275mod=ue.Ob({type:e}),e.\u0275inj=ue.Nb({factory:function(t){return new(t||e)},imports:[[Lt,s.a,n.a,ec,r.j.forFeature("company",$),_t.c.forFeature([Jt])]]}),e})()},r32Y:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var s=c("kt0X"),n=c("YZpF");class i{constructor(e){this.store=e,this.isMobile$=this.store.pipe(Object(s.t)(n.m)),this.isTablet$=this.store.pipe(Object(s.t)(n.n)),this.user$=this.store.pipe(n.j),this.leftPaneOpen$=this.store.pipe(Object(s.t)(n.k))}}}}]);