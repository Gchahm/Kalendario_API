!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{M4UK:function(t,c,i){"use strict";i.r(c),i.d(c,"CompanyModule",(function(){return ft}));var o=i("PCNd"),s=i("O51e"),u=i("tyNb"),l=i("kt0X"),p=i("eJuo"),m=function(e){return e.LoadCompany="[Company] Load Company",e.LoadCompanySuccess="[Company] Load Company Success",e.LoadCompanyFail="[Company] Load Company Fail",e.SetDate="[Company] Set Date",e.LoadSlots="[Company] Load Slots",e.LoadSlotsSuccess="[Company] Load Slots Success",e.LoadSlotsFail="[Company] Load Slots Fail",e.CreateRequest="[Company] Create Request",e.CreateRequestSuccess="[Company] Create Request Success",e.CreateRequestFail="[Company] Create Request Fail",e.SetCurrentEmployeeId="[Company] Set Current Employee Id",e.SetCurrentServiceId="[Company] Set Current Service Id",e.SetCurrentCategoryId="[Company] Set Current Category Id",e.ClearAppointment="[Company] Clear Appointment",e}({}),b=function e(t){r(this,e),this.payload=t,this.type=m.LoadCompany},d=function e(t){r(this,e),this.payload=t,this.type=m.LoadCompanySuccess},f=function e(t){r(this,e),this.payload=t,this.type=m.LoadCompanyFail},y=function e(t){r(this,e),this.payload=t,this.type=m.SetDate},h=function e(t){r(this,e),this.payload=t,this.type=m.LoadSlots},v=function e(t){r(this,e),this.payload=t,this.type=m.LoadSlotsSuccess},g=function e(t){r(this,e),this.payload=t,this.type=m.LoadSlotsFail},C=function e(t){r(this,e),this.payload=t,this.type=m.CreateRequestSuccess},O=function e(t){r(this,e),this.payload=t,this.type=m.CreateRequestFail},j=function e(t){r(this,e),this.payload=t,this.type=m.SetCurrentEmployeeId},k=function e(t){r(this,e),this.payload=t,this.type=m.SetCurrentServiceId},W=function e(t){r(this,e),this.payload=t,this.type=m.SetCurrentCategoryId},V=function e(){r(this,e),this.type=m.ClearAppointment},w=i("wd/R"),F={company:null,date:w.utc().add(1,"day"),currentEmployeeId:null,currentServiceId:null,currentCategoryId:null,slots:[],appointment:null,apiError:null};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.LoadCompanySuccess:var n=e.currentServiceId;if(null!==e.currentEmployeeId&&null===e.currentServiceId){var c=t.payload.employees.find((function(t){return t.id===e.currentEmployeeId}));n=null===c?null:c.services.find((function(e){return e==e}))}return Object.assign(Object.assign({},e),{company:t.payload,currentCategoryId:t.payload.serviceCategories.map((function(e){return e.id})).find((function(e){return e==e})),currentServiceId:n,apiError:null});case m.LoadCompanyFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case m.SetDate:return Object.assign(Object.assign({},e),{date:t.payload});case m.LoadSlotsSuccess:return Object.assign(Object.assign({},e),{slots:t.payload,apiError:null});case m.LoadSlotsFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case m.CreateRequestSuccess:return Object.assign(Object.assign({},e),{appointment:t.payload,apiError:null});case m.CreateRequestFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case m.SetCurrentEmployeeId:var i=e.company.employees.find((function(e){return e.id===t.payload}));return Object.assign(Object.assign({},e),{currentEmployeeId:0===t.payload?null:t.payload,currentServiceId:i?i.services.find((function(e){return e==e})):null});case m.SetCurrentServiceId:return Object.assign(Object.assign({},e),{currentServiceId:t.payload});case m.ClearAppointment:return Object.assign(Object.assign({},e),{appointment:null});case m.SetCurrentCategoryId:return Object.assign(Object.assign({},e),{currentCategoryId:t.payload});default:return e}}var D,I,q=Object(l.o)("company"),x=(Object(l.q)(q,(function(e){return e.apiError})),Object(l.q)(q,(function(e){return e.company}))),M=Object(l.q)(x,(function(e){return e.services})),R=Object(l.q)(x,(function(e){return e.serviceCategories})),_=Object(l.q)(q,(function(e){return e.currentCategoryId})),$=Object(l.q)(M,_,(function(e,t){return e.filter((function(e){return e.category===t}))})),E=Object(l.q)(x,(function(e){return e.employees})),L=Object(l.q)(E,M,(function(e,t){return e.map((function(e){return{employee:e,services:t.filter((function(t){return e.services.includes(t.id)}))}}))})),P=Object(l.q)(x,(function(e){return e.name})),A=Object(l.q)(q,(function(e){return e.date})),N=Object(l.q)(q,(function(e){return e.appointment})),K=Object(l.q)(q,(function(e){return e.currentEmployeeId})),G=Object(l.q)(E,K,(function(e,t){return null===e||null===t||0===t?null:e.find((function(e){return e.id===t}))})),H=Object(l.q)(L,K,(function(e,t){return null===t||0===t?null:e.find((function(e){return e.employee.id===t}))})),T=Object(l.q)(q,(function(e){return e.currentServiceId})),X=Object(l.q)(M,T,(function(e,t){return null===t?null:e.find((function(e){return e.id===t}))})),Q=Object(l.q)(K,T,A,(function(e,t,n){return null===e||null===t||null===n?null:{employee:e,service:t,start:n.clone().startOf("day"),end:n.clone().endOf("day")}})),U=Object(l.q)(q,(function(e){var t=0;return e.slots.map((function(e){return{id:t++,title:e.start.format("HH:mm")+" - "+e.end.format("HH:mm"),color:"#FFFFFF",start:e.start,end:e.end}}))})),z=Object(l.q)(G,X,A,(function(e,t,n){var c=new p.a;return c.service=t,c.employee=e,c.start=n,c})),J=Object(l.q)(x,(function(e){return e.config.preBookWarn})),Y=Object(l.q)(x,(function(e){return e.config.postBookMessage})),B=i("fXoL"),Z=((D=function(){function e(t,n){r(this,e),this.route=t,this.store=n}return a(e,[{key:"ngOnInit",value:function(){var e=this.route.snapshot.paramMap.get("cid");this.store.dispatch(new b(e))}}]),e}()).\u0275fac=function(e){return new(e||D)(B.Qb(u.a),B.Qb(l.h))},D.\u0275cmp=B.Kb({type:D,selectors:[["company-shell"]],decls:1,vars:0,template:function(e,t){1&e&&B.Rb(0,"router-outlet")},directives:[u.g],styles:[""]}),D),ee=i("r32Y"),te=i("ofXK"),ne=((I=function e(){r(this,e),this.selectEmployee=new B.o}).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=B.Kb({type:I,selectors:[["company-employee-list-card"]],inputs:{model:"model"},outputs:{selectEmployee:"selectEmployee"},decls:11,vars:3,consts:[[1,"emp-card-container"],[1,"company-circle-img",3,"src"],[1,"emp-card-content"],[1,"h4"],[1,"emp-card-button"],[1,"btn-details","mr-3"],[1,"btn-tifanny"]],template:function(e,t){1&e&&(B.Wb(0,"div",0),B.Rb(1,"img",1),B.Wb(2,"div",2),B.Wb(3,"div",3),B.Fc(4),B.Vb(),B.Fc(5),B.Wb(6,"div",4),B.Wb(7,"button",5),B.Fc(8," Show details "),B.Vb(),B.Wb(9,"button",6),B.Fc(10," Book appointment "),B.Vb(),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(1),B.oc("src",t.model.employee.photoUrl,B.yc),B.Db(3),B.Hc(" ",t.model.employee.name," "),B.Db(1),B.Hc(" ",t.model.employee.bio," "))},styles:[".emp-card-container[_ngcontent-%COMP%]{display:flex}.emp-card-content[_ngcontent-%COMP%]{text-align:right;width:100%}.emp-card-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px}.h4[_ngcontent-%COMP%]{text-transform:uppercase}"]}),I);function ce(e,t){if(1&e&&(B.Wb(0,"div",3),B.Rb(1,"company-employee-list-card",4),B.Vb()),2&e){var n=t.$implicit;B.Db(1),B.nc("model",n)}}var ie,oe,ae=((oe=function e(){r(this,e)}).\u0275fac=function(e){return new(e||oe)},oe.\u0275cmp=B.Kb({type:oe,selectors:[["company-employee-list"]],inputs:{employees:"employees",companyName:"companyName"},decls:4,vars:1,consts:[[1,"row"],[1,"col-12","h1"],["class","col-sm-12 col-md-6 emp-card-box",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","emp-card-box"],[3,"model"]],template:function(e,t){1&e&&(B.Wb(0,"div",0),B.Wb(1,"div",1),B.Fc(2," OUR TEAM "),B.Vb(),B.Dc(3,ce,2,1,"div",2),B.Vb()),2&e&&(B.Db(3),B.nc("ngForOf",t.employees))},directives:[te.j,ne],styles:[".emp-card-box[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:25px;padding-right:25px}"]}),oe),re=((ie=function(t){e(i,t);var c=n(i);function i(e){var t;return r(this,i),(t=c.call(this,e)).store=e,t}return a(i,[{key:"ngOnInit",value:function(){this.employees$=this.store.pipe(Object(l.t)(L)),this.companyName$=this.store.pipe(Object(l.t)(P))}}]),i}(ee.a)).\u0275fac=function(e){return new(e||ie)(B.Qb(l.h))},ie.\u0275cmp=B.Kb({type:ie,selectors:[["company-employees-shell"]],features:[B.Ab],decls:3,vars:6,consts:[[3,"employees","companyName"]],template:function(e,t){1&e&&(B.Rb(0,"company-employee-list",0),B.jc(1,"async"),B.jc(2,"async")),2&e&&B.nc("employees",B.kc(1,2,t.employees$))("companyName",B.kc(2,4,t.companyName$))},directives:[ae],pipes:[te.b],styles:[""]}),ie),se=i("GJmQ"),ue=i("pLZG"),le=i("Wp6s"),pe=i("MutI"),me=i("bTqV");function be(e,t){if(1&e){var n=B.Xb();B.Wb(0,"mat-list-option",6),B.ec("click",(function(){B.xc(n);var e=t.$implicit;return B.ic(2).serviceClick(e)})),B.Wb(1,"span",7),B.Fc(2),B.Vb(),B.Wb(3,"span",8),B.Fc(4),B.Vb(),B.Wb(5,"span",9),B.Fc(6),B.Vb(),B.Vb()}if(2&e){var c=t.$implicit,i=B.ic(2);B.nc("selected",i.isSelected(c)),B.Db(2),B.Gc(c.name),B.Db(2),B.Gc(c.duration),B.Db(2),B.Gc(c.price)}}function de(e,t){if(1&e&&(B.Wb(0,"mat-card",null,1),B.Rb(2,"img",2),B.Wb(3,"mat-card-content"),B.Wb(4,"h5"),B.Fc(5),B.Vb(),B.Wb(6,"p"),B.Fc(7),B.Vb(),B.Vb(),B.Wb(8,"mat-selection-list",3),B.Dc(9,be,7,4,"mat-list-option",4),B.Vb(),B.Wb(10,"mat-card-actions"),B.Wb(11,"button",5),B.Fc(12," BACK TO STAFF "),B.Vb(),B.Vb(),B.Vb()),2&e){var n=B.ic();B.Db(2),B.oc("src",n.employee.employee.photoUrl,B.yc),B.nc("width",n.cardWidth()),B.Db(3),B.Gc(n.employee.employee.name),B.Db(2),B.Gc(n.employee.employee.bio),B.Db(1),B.nc("multiple",!1),B.Db(1),B.nc("ngForOf",n.employee.services),B.Db(2),B.pc("routerLink","/c/",n.companyName,"/staff")}}var fe,ye,he,ve,ge=((fe=function(){function e(){r(this,e),this.serviceChange=new B.o}return a(e,[{key:"cardWidth",value:function(){return"60px"}},{key:"serviceClick",value:function(e){this.serviceChange.emit(e)}},{key:"isSelected",value:function(e){return!!this.service&&this.service.id===e.id}}]),e}()).\u0275fac=function(e){return new(e||fe)},fe.\u0275cmp=B.Kb({type:fe,selectors:[["company-employee-details-card"]],inputs:{employee:"employee",service:"service",companyName:"companyName"},outputs:{serviceChange:"serviceChange"},decls:1,vars:1,consts:[[4,"ngIf"],["empCard",""],[1,"emp-card-img","d-none","d-sm-none","d-md-block",3,"width","src"],["dense","",3,"multiple"],[3,"selected","click",4,"ngFor","ngForOf"],["mat-stroked-button","","color","primary",1,"w-100",3,"routerLink"],[3,"selected","click"],[1,"service-name"],[1,"superscript"],[1,"subscript"]],template:function(e,t){1&e&&B.Dc(0,de,13,7,"mat-card",0),2&e&&B.nc("ngIf",t.employee)},directives:[te.k,le.a,le.c,pe.g,te.j,le.b,me.a,u.c,pe.d],styles:[".list-group-item[_ngcontent-%COMP%]{cursor:pointer}.card-container[_ngcontent-%COMP%]{max-width:632px}.selected[_ngcontent-%COMP%]{border:1px solid #000}.service-name[_ngcontent-%COMP%]{max-width:200px}.superscript[_ngcontent-%COMP%]{top:.8em}.subscript[_ngcontent-%COMP%], .superscript[_ngcontent-%COMP%]{font-size:.83em;line-height:.5em;vertical-align:baseline;position:absolute;right:.2em}.subscript[_ngcontent-%COMP%]{bottom:.8em}"]}),fe),Ce=i("NFeN"),Oe=i("kmnG"),je=i("qFsG"),ke=i("iadO"),We=i("EHyc"),Ve=((ye=function(){function e(){r(this,e),this.isMobile=!1,this.dateChange=new B.o,this.eventClick=new B.o}return a(e,[{key:"eventClicked",value:function(e){this.eventClick.emit(this.events[e])}},{key:"today",value:function(){this.dateChange.emit(w.utc())}},{key:"previousDay",value:function(){this.dateChange.emit(this.date.subtract(1,"day"))}},{key:"nextDay",value:function(){this.dateChange.emit(this.date.add(1,"day"))}},{key:"changeDate",value:function(e){this.dateChange.emit(e.value)}}]),e}()).\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=B.Kb({type:ye,selectors:[["company-employee-details-slots"]],inputs:{events:"events",isMobile:"isMobile",date:"date"},outputs:{dateChange:"dateChange",eventClick:"eventClick"},decls:19,vars:6,consts:[[1,"card-container","mat-elevation-z6"],[1,"text-center","mb-2"],["mat-stroked-button","","color","accent",3,"click"],["mat-icon-button","","color","accent",3,"click"],[1,"icon"],[1,"m-2",3,"click"],["matInput","",3,"value","matDatepicker","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["dpAppointmentDashboard",""],[3,"events","eventClick"]],template:function(e,t){if(1&e){var n=B.Xb();B.Wb(0,"mat-card",0),B.Wb(1,"mat-card-content"),B.Wb(2,"div",1),B.Wb(3,"button",2),B.ec("click",(function(){return t.today()})),B.Fc(4," today "),B.Vb(),B.Wb(5,"button",3),B.ec("click",(function(){return t.previousDay()})),B.Wb(6,"mat-icon",4),B.Fc(7,"chevron_left"),B.Vb(),B.Vb(),B.Wb(8,"button",3),B.ec("click",(function(){return t.nextDay()})),B.Wb(9,"mat-icon",4),B.Fc(10,"chevron_right"),B.Vb(),B.Vb(),B.Wb(11,"span",5),B.ec("click",(function(){return B.xc(n),B.uc(17).open()})),B.Fc(12),B.Vb(),B.Wb(13,"mat-form-field"),B.Wb(14,"input",6),B.ec("dateChange",(function(e){return t.changeDate(e)})),B.Vb(),B.Rb(15,"mat-datepicker-toggle",7),B.Rb(16,"mat-datepicker",8,9),B.Vb(),B.Vb(),B.Wb(18,"app-calendar",10),B.ec("eventClick",(function(e){return t.eventClicked(e)})),B.Vb(),B.Vb(),B.Vb()}if(2&e){var c=B.uc(17);B.Db(12),B.Gc(t.date.format("ddd")),B.Db(2),B.nc("value",t.date)("matDatepicker",c),B.Db(1),B.nc("for",c),B.Db(1),B.oc("touchUi",t.isMobile),B.Db(2),B.nc("events",t.events)}},directives:[le.a,le.c,me.a,Ce.a,Oe.b,je.b,ke.b,ke.d,Oe.f,ke.a,We.a],styles:[".card-container[_ngcontent-%COMP%]{max-width:632px}"]}),ye),we=i("YZpF"),Fe=((he=function(){function e(){r(this,e),this.cancel=new B.o}return a(e,[{key:"emitCancel",value:function(){this.cancel.emit()}}]),e}()).\u0275fac=function(e){return new(e||he)},he.\u0275cmp=B.Kb({type:he,selectors:[["company-request-success"]],inputs:{message:"message"},outputs:{cancel:"cancel"},decls:9,vars:1,consts:[["mat-button","","routerLink","/my-appointments","color","primary"],["mat-button","",3,"click"]],template:function(e,t){1&e&&(B.Wb(0,"mat-card"),B.Wb(1,"mat-card-content"),B.Wb(2,"p"),B.Fc(3),B.Vb(),B.Vb(),B.Wb(4,"mat-card-actions"),B.Wb(5,"button",0),B.Fc(6,"see my requests"),B.Vb(),B.Wb(7,"button",1),B.ec("click",(function(){return t.emitCancel()})),B.Fc(8,"back to staff"),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(3),B.Gc(t.message))},directives:[le.a,le.c,le.b,me.a,u.c],styles:[""]}),he),Se=i("3Pt+"),De=((ve=function(){function e(){r(this,e),this.create=new B.o,this.cancel=new B.o}return a(e,[{key:"onCreate",value:function(){this.create.emit(this.appointment)}},{key:"cancelClick",value:function(){this.cancel.emit()}}]),e}()).\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=B.Kb({type:ve,selectors:[["company-confirm-request"]],inputs:{appointment:"appointment",message:"message"},outputs:{create:"create",cancel:"cancel"},decls:33,vars:7,consts:[[1,"card","mat-elevation-z5","mt-2"],[1,"row"],[1,"col-12"],[1,"card-title"],[1,"col-sm-12","col-md-6"],[1,"d-flex"],[1,"col-sm-12","col-md-6","text-right"],["matInput","","mat-autosize","","maxlength","255","id","customer-notes","placeholder","additional info","name","customer-notes",3,"ngModel","ngModelChange"],["mat-flat-button","","color","accent",3,"click"],["mat-stroked-button","","color","warn",3,"click"]],template:function(e,t){1&e&&(B.Wb(0,"mat-card",0),B.Wb(1,"mat-card-content"),B.Wb(2,"div",1),B.Wb(3,"div",2),B.Wb(4,"h4",3),B.Fc(5,"confirm appointment"),B.Vb(),B.Wb(6,"p"),B.Fc(7),B.Vb(),B.Vb(),B.Wb(8,"div",4),B.Wb(9,"div",5),B.Wb(10,"mat-icon"),B.Fc(11,"insert_invitation"),B.Vb(),B.Fc(12),B.Vb(),B.Wb(13,"div",5),B.Wb(14,"mat-icon"),B.Fc(15,"schedule"),B.Vb(),B.Fc(16),B.Vb(),B.Wb(17,"div",5),B.Wb(18,"mat-icon"),B.Fc(19,"person"),B.Vb(),B.Fc(20),B.Vb(),B.Wb(21,"div",5),B.Wb(22,"mat-icon"),B.Fc(23,"label"),B.Vb(),B.Fc(24),B.Vb(),B.Vb(),B.Wb(25,"div",6),B.Wb(26,"mat-form-field"),B.Wb(27,"textarea",7),B.ec("ngModelChange",(function(e){return t.notes=e})),B.Vb(),B.Vb(),B.Vb(),B.Vb(),B.Vb(),B.Wb(28,"mat-card-actions"),B.Wb(29,"button",8),B.ec("click",(function(){return t.onCreate()})),B.Fc(30,"confirm"),B.Vb(),B.Wb(31,"button",9),B.ec("click",(function(){return t.cancelClick()})),B.Fc(32,"cancel"),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(7),B.Gc(t.message),B.Db(5),B.Hc(" ",t.appointment.start.format("DD/MM/YYYY")," "),B.Db(4),B.Ic(" ",t.appointment.start.format("hh:mm")," (",t.appointment.service.duration.toString(),") "),B.Db(4),B.Hc(" ",t.appointment.employee.name," "),B.Db(4),B.Hc(" ",t.appointment.service.name," "),B.Db(3),B.nc("ngModel",t.notes))},directives:[le.a,le.c,Ce.a,Oe.b,je.b,je.d,Se.b,Se.k,Se.o,Se.r,le.b,me.a],styles:[".card[_ngcontent-%COMP%]{max-width:40rem}span[_ngcontent-%COMP%]{display:inline-flex;vertical-align:middle}"]}),ve),Ie=i("VLa1");function qe(e,t){if(1&e){var n=B.Xb();B.Wb(0,"company-request-success",2),B.ec("cancel",(function(){return B.xc(n),B.ic().emitCancel()})),B.jc(1,"async"),B.Vb()}if(2&e){var c=B.ic();B.nc("message",B.kc(1,1,c.postRequestMessage$))}}function xe(e,t){if(1&e){var n=B.Xb();B.Wb(0,"company-confirm-request",5),B.ec("create",(function(e){return B.xc(n),B.ic(2).createRequest(e)}))("cancel",(function(){return B.xc(n),B.ic(2).emitCancel()})),B.jc(1,"async"),B.jc(2,"async"),B.Vb()}if(2&e){var c=B.ic(2);B.nc("appointment",B.kc(1,2,c.request$))("message",B.kc(2,4,c.preRequestMessage$))}}function Me(e,t){1&e&&B.Rb(0,"shared-login-register-shell")}function Re(e,t){if(1&e&&(B.Dc(0,xe,3,6,"company-confirm-request",3),B.jc(1,"async"),B.Dc(2,Me,1,0,"ng-template",null,4,B.Ec)),2&e){var n=B.uc(3),c=B.ic();B.nc("ngIf",B.kc(1,2,c.isLoggedIn$))("ngIfElse",n)}}var _e,$e=((_e=function(t){e(i,t);var c=n(i);function i(e){var t;return r(this,i),(t=c.call(this,e)).store=e,t.cancel=new B.o,t}return a(i,[{key:"ngOnInit",value:function(){this.isLoggedIn$=this.store.pipe(Object(l.t)(we.h)),this.request$=this.store.pipe(Object(l.t)(z)),this.appointment$=this.store.pipe(Object(l.t)(N)),this.preRequestMessage$=this.store.pipe(Object(l.t)(J)),this.postRequestMessage$=this.store.pipe(Object(l.t)(Y))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new V)}},{key:"emitCancel",value:function(){this.cancel.emit()}},{key:"createRequest",value:function(e){}}]),i}(ee.a)).\u0275fac=function(e){return new(e||_e)(B.Qb(l.h))},_e.\u0275cmp=B.Kb({type:_e,selectors:[["company-confirm-request-shell"]],outputs:{cancel:"cancel"},features:[B.Ab],decls:4,vars:4,consts:[[3,"message","cancel",4,"ngIf","ngIfElse"],["confirm",""],[3,"message","cancel"],[3,"appointment","message","create","cancel",4,"ngIf","ngIfElse"],["login",""],[3,"appointment","message","create","cancel"]],template:function(e,t){if(1&e&&(B.Dc(0,qe,2,3,"company-request-success",0),B.jc(1,"async"),B.Dc(2,Re,4,4,"ng-template",null,1,B.Ec)),2&e){var n=B.uc(3);B.nc("ngIf",B.kc(1,2,t.appointment$))("ngIfElse",n)}},directives:[te.k,Fe,De,Ie.a],pipes:[te.b],styles:[""]}),_e);function Ee(e,t){if(1&e){var n=B.Xb();B.Wb(0,"company-employee-details-slots",6),B.ec("dateChange",(function(e){return B.xc(n),B.ic().dateChange(e)}))("eventClick",(function(e){return B.xc(n),B.ic().openRequest(e)})),B.jc(1,"async"),B.jc(2,"async"),B.jc(3,"async"),B.Vb()}if(2&e){var c=B.ic();B.nc("events",B.kc(1,3,c.slots$))("isMobile",B.kc(2,5,c.isMobile$))("date",B.kc(3,7,c.currentDate$))}}function Le(e,t){if(1&e){var n=B.Xb();B.Wb(0,"company-confirm-request-shell",7),B.ec("cancel",(function(){return B.xc(n),B.ic().cancelRequest()})),B.Vb()}}var Pe,Ae,Ne,Ke=((Ae=function(t){e(i,t);var c=n(i);function i(e,t){var n;return r(this,i),(n=c.call(this,e)).store=e,n.route=t,n.active=!0,n.confirmAppointment=!1,n}return a(i,[{key:"ngOnInit",value:function(){var e=+this.route.snapshot.paramMap.get("id");this.store.dispatch(new j(e)),this.slots$=this.store.pipe(Object(l.t)(U)),this.currentDate$=this.store.pipe(Object(l.t)(A)),this.currentModel$=this.store.pipe(Object(l.t)(H)),this.currentService$=this.store.pipe(Object(l.t)(X)),this.companyName$=this.store.pipe(Object(l.t)(P)),this.observeAndReloadSlots()}},{key:"ngOnDestroy",value:function(){this.active=!1}},{key:"serviceChange",value:function(e){this.store.dispatch(new k(e.id))}},{key:"dateChange",value:function(e){this.store.dispatch(new y(e.clone()))}},{key:"observeAndReloadSlots",value:function(){var e=this;this.store.pipe(Object(l.t)(Q),Object(se.a)((function(t){return e.active})),Object(ue.a)((function(e){return null!==e}))).subscribe((function(t){return e.store.dispatch(new h(t))}))}},{key:"openRequest",value:function(e){this.store.dispatch(new y(e.start)),this.confirmAppointment=!0}},{key:"cancelRequest",value:function(){this.confirmAppointment=!1}}]),i}(ee.a)).\u0275fac=function(e){return new(e||Ae)(B.Qb(l.h),B.Qb(u.a))},Ae.\u0275cmp=B.Kb({type:Ae,selectors:[["company-employee-details-page"]],features:[B.Ab],decls:10,vars:11,consts:[[1,"row"],[1,"col-sm-12","col-md-3"],[3,"employee","service","companyName","serviceChange"],[1,"col-sm-12","col-md-9"],[3,"events","isMobile","date","dateChange","eventClick",4,"ngIf","ngIfElse"],["request",""],[3,"events","isMobile","date","dateChange","eventClick"],[3,"cancel"]],template:function(e,t){if(1&e&&(B.Wb(0,"div",0),B.Wb(1,"div",1),B.Wb(2,"company-employee-details-card",2),B.ec("serviceChange",(function(e){return t.serviceChange(e)})),B.jc(3,"async"),B.jc(4,"async"),B.jc(5,"async"),B.Vb(),B.Vb(),B.Wb(6,"div",3),B.Dc(7,Ee,4,9,"company-employee-details-slots",4),B.Dc(8,Le,1,0,"ng-template",null,5,B.Ec),B.Vb(),B.Vb()),2&e){var n=B.uc(9);B.Db(2),B.nc("employee",B.kc(3,5,t.currentModel$))("service",B.kc(4,7,t.currentService$))("companyName",B.kc(5,9,t.companyName$)),B.Db(5),B.nc("ngIf",!t.confirmAppointment)("ngIfElse",n)}},directives:[ge,te.k,Ve,$e],pipes:[te.b],styles:[""]}),Ae),Ge=((Pe=function e(){r(this,e)}).\u0275fac=function(e){return new(e||Pe)},Pe.\u0275cmp=B.Kb({type:Pe,selectors:[["company-logo-avatar"]],inputs:{logo:"logo",name:"name",address:"address"},decls:7,vars:3,consts:[[1,"logo-avatar-container"],[1,"company-circle-img",3,"src"],[1,"logo-avatar-content"],[1,"pb-0"],[1,"c-pastel-pink"]],template:function(e,t){1&e&&(B.Wb(0,"div",0),B.Rb(1,"img",1),B.Wb(2,"div",2),B.Wb(3,"h1",3),B.Fc(4),B.Vb(),B.Wb(5,"div",4),B.Fc(6),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(1),B.oc("src",t.logo,B.yc),B.Db(3),B.Gc(t.name),B.Db(2),B.Hc(" ",t.address," "))},styles:[".logo-avatar-container[_ngcontent-%COMP%]{display:flex}.logo-avatar-content[_ngcontent-%COMP%]{margin-bottom:auto;margin-top:auto;margin-left:.5rem}"]}),Pe),He=i("Qu3c"),Te=((Ne=function e(){r(this,e)}).\u0275fac=function(e){return new(e||Ne)},Ne.\u0275cmp=B.Kb({type:Ne,selectors:[["company-service-list-card"]],inputs:{service:"service"},decls:11,vars:4,consts:[[1,"service-list-card-container"],[1,"card-title-container"],[3,"matTooltip"],[1,"c-blush"],[1,"c-tiffany-blue","text-right"],[1,"tiny","light-grey"]],template:function(e,t){1&e&&(B.Wb(0,"div",0),B.Wb(1,"div",1),B.Wb(2,"h6",2),B.Fc(3),B.Vb(),B.Wb(4,"p",3),B.Fc(5,"Show details"),B.Vb(),B.Vb(),B.Wb(6,"div",4),B.Wb(7,"p"),B.Fc(8),B.Vb(),B.Wb(9,"p",5),B.Fc(10),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(2),B.nc("matTooltip",t.service.name),B.Db(1),B.Gc(t.service.name),B.Db(5),B.Gc(t.service.price),B.Db(2),B.Hc("ETA: ",t.service.duration,""))},directives:[He.a],styles:[".service-list-card-container[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #a1a1a1;margin-bottom:15px;margin-right:20px;white-space:nowrap}.card-title-container[_ngcontent-%COMP%]{text-transform:capitalize;overflow-x:hidden;width:100%}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}"]}),Ne);function Xe(e,t){if(1&e){var n=B.Xb();B.Wb(0,"div",8),B.ec("click",(function(){B.xc(n);var e=t.$implicit;return B.ic().selectCategory.emit(e.id)})),B.Fc(1),B.Vb()}if(2&e){var c=t.$implicit,i=B.ic();B.Hb("selected-category",c.id===i.currentCategoryId),B.Db(1),B.Hc(" ",c.name," ")}}function Qe(e,t){if(1&e&&(B.Wb(0,"div",9),B.Rb(1,"company-service-list-card",10),B.Vb()),2&e){var n=t.$implicit;B.Db(1),B.nc("service",n)}}var Ue,ze,Je=((ze=function e(){r(this,e),this.selectCategory=new B.o}).\u0275fac=function(e){return new(e||ze)},ze.\u0275cmp=B.Kb({type:ze,selectors:[["company-service-list"]],inputs:{services:"services",categories:"categories",currentCategoryId:"currentCategoryId"},outputs:{selectCategory:"selectCategory"},decls:10,vars:4,consts:[[1,"services-container"],[1,"h1"],[1,"services-card","company-shadow-1"],[1,"services-categories"],["class","mb-4",3,"selected-category","click",4,"ngFor","ngForOf"],[3,"click"],[1,"row","no-gutters","pretty-scroll"],["class","col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"mb-4",3,"click"],[1,"col-sm-12","col-md-6"],[3,"service"]],template:function(e,t){1&e&&(B.Wb(0,"div",0),B.Wb(1,"div",1),B.Fc(2," ALL SERVICES "),B.Vb(),B.Wb(3,"div",2),B.Wb(4,"div",3),B.Dc(5,Xe,2,3,"div",4),B.Wb(6,"div",5),B.ec("click",(function(){return t.selectCategory.emit(null)})),B.Fc(7," Other "),B.Vb(),B.Vb(),B.Wb(8,"div",6),B.Dc(9,Qe,2,1,"div",7),B.Vb(),B.Vb(),B.Vb()),2&e&&(B.Db(5),B.nc("ngForOf",t.categories),B.Db(1),B.Hb("selected-category",null===t.currentCategoryId),B.Db(3),B.nc("ngForOf",t.services))},directives:[te.j,Te],styles:[".services-card[_ngcontent-%COMP%]{background:#fff;opacity:.6;display:flex;padding:2em}.divisor[_ngcontent-%COMP%]{border:1.5px solid #3d3d51;transform:rotate(90deg)}.row[_ngcontent-%COMP%]{max-height:400px;min-height:400px;width:100%;overflow-y:scroll}.selected-category[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.services-categories[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;margin-right:2em;font-weight:600;font-size:14px;line-height:17px;letter-spacing:.12em}"]}),ze),Ye=((Ue=function(){function e(t){r(this,e),this.store=t,this.services$=this.store.select($),this.categories$=this.store.select(R),this.currentCategoryId$=this.store.select(_)}return a(e,[{key:"updateSelectedCategory",value:function(e){this.store.dispatch(new W(e))}}]),e}()).\u0275fac=function(e){return new(e||Ue)(B.Qb(l.h))},Ue.\u0275cmp=B.Kb({type:Ue,selectors:[["company-services-shell"]],decls:4,vars:9,consts:[[3,"services","categories","currentCategoryId","selectCategory"]],template:function(e,t){1&e&&(B.Wb(0,"company-service-list",0),B.ec("selectCategory",(function(e){return t.updateSelectedCategory(e)})),B.jc(1,"async"),B.jc(2,"async"),B.jc(3,"async"),B.Vb()),2&e&&B.nc("services",B.kc(1,3,t.services$))("categories",B.kc(2,5,t.categories$))("currentCategoryId",B.kc(3,7,t.currentCategoryId$))},directives:[Je],pipes:[te.b],styles:[""]}),Ue);function Be(e,t){if(1&e&&(B.Wb(0,"div"),B.Wb(1,"div",1),B.Wb(2,"div",2),B.Rb(3,"company-logo-avatar",3),B.Vb(),B.Wb(4,"div",2),B.Rb(5,"company-services-shell"),B.Vb(),B.Wb(6,"div",2),B.Rb(7,"company-employees-shell"),B.Vb(),B.Wb(8,"div",2),B.Wb(9,"h1"),B.Fc(10,"ABOUT US"),B.Vb(),B.Fc(11," Etiam pulvinar scelerisque urna ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam lorem ipsum, maximus vitae eros id, mollis ornare purus. Sed interdum enim a leo ullamcorper lobortis. In ligula mi, consectetur at elit ac, varius efficitur eros. Morbi mollis ante sit amet quam mollis rhoncus. Nunc nec neque nisi. In vitae velit in turpis rutrum pharetra vel in odio. Proin ut placerat est, at semper elit. Sed vestibulum molestie eros et feugiat. Fusce non augue ac massa suscipit fringilla. Proin quam lorem, molestie vitae nulla et, mattis dictum ipsum. Morbi ut mattis est. Proin eu mi ac purus sollicitudin posuere nec ac dui. Etiam et diam molestie, imperdiet purus eu, ultricies urna. "),B.Vb(),B.Vb(),B.Vb()),2&e){var n=t.ngIf;B.Db(3),B.nc("logo",n.avatarUrl)("name",n.name)("address",n.address)}}var Ze,et,tt,nt,ct=[{path:":cid",component:Z,children:[{path:"staff",component:re},{path:"staff/:id",component:Ke},{path:"",component:(Ze=function e(t){r(this,e),this.store=t,this.logo="https://scontent-dub4-1.xx.fbcdn.net/v/t1.0-9/26230925_1489574747830774_2279972514000129649_n.jpg?_nc_cat=101&_nc_sid=dd9801&_nc_ohc=Te7d0VWnvRsAX-s_FLP&_nc_ht=scontent-dub4-1.xx&oh=1afd6c5ec4c88e3dddf10ef8a3dc69a5&oe=5F409F16",this.company$=t.select(x)},Ze.\u0275fac=function(e){return new(e||Ze)(B.Qb(l.h))},Ze.\u0275cmp=B.Kb({type:Ze,selectors:[["app-landing-page"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container","kalendario-company"],[1,"mb-100"],[3,"logo","name","address"]],template:function(e,t){1&e&&(B.Dc(0,Be,12,3,"div",0),B.jc(1,"async")),2&e&&B.nc("ngIf",B.kc(1,1,t.company$))},directives:[te.k,Ge,Ye,re],pipes:[te.b],styles:[""]}),Ze)}]}],it=((et=function e(){r(this,e)}).\u0275mod=B.Ob({type:et}),et.\u0275inj=B.Nb({factory:function(e){return new(e||et)},imports:[[u.f.forChild(ct)],u.f]}),et),ot=i("snw9"),at=i("mrSG"),rt=i("LRne"),st=i("lJxs"),ut=i("5+tZ"),lt=i("JIr8"),pt=i("vkgz"),mt=i("2Sd8"),bt=i("3WbM"),dt=((nt=function e(t,n,c,i){var o=this;r(this,e),this.actions$=t,this.appointmentClient=n,this.companyClient=c,this.toast=i,this.LoadCompany$=this.actions$.pipe(Object(ot.e)(m.LoadCompany),Object(st.a)((function(e){return e.payload})),Object(ut.a)((function(e){return o.companyClient.fromName(e).pipe(Object(st.a)((function(e){return new d(e)})),Object(lt.a)((function(e){return Object(rt.a)(new f(e))})))}))),this.LoadSlots$=this.actions$.pipe(Object(ot.e)(m.LoadSlots),Object(st.a)((function(e){return e.payload})),Object(ut.a)((function(e){return o.companyClient.slots(e).pipe(Object(st.a)((function(e){return new v(e)})),Object(lt.a)((function(e){return Object(rt.a)(new g(e))})))}))),this.CreateRequest$=this.actions$.pipe(Object(ot.e)(m.CreateRequest),Object(st.a)((function(e){return e.payload})),Object(ut.a)((function(e){return o.appointmentClient.post(e).pipe(Object(pt.a)((function(e){return o.toast.success("Request Sent")})),Object(st.a)((function(e){return new C(e)})),Object(lt.a)((function(e){return Object(rt.a)(new O(e))})))})))}).\u0275fac=function(e){return new(e||nt)(B.ac(ot.a),B.ac(mt.c),B.ac(mt.d),B.ac(bt.a))},nt.\u0275prov=B.Mb({token:nt,factory:nt.\u0275fac}),Object(at.a)([Object(ot.b)()],nt.prototype,"LoadCompany$",void 0),Object(at.a)([Object(ot.b)()],nt.prototype,"LoadSlots$",void 0),Object(at.a)([Object(ot.b)()],nt.prototype,"CreateRequest$",void 0),nt),ft=((tt=function e(){r(this,e)}).\u0275mod=B.Ob({type:tt}),tt.\u0275inj=B.Nb({factory:function(e){return new(e||tt)},imports:[[it,o.a,s.a,l.j.forFeature("company",S),ot.c.forFeature([dt])]]}),tt)}}])}();