!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],c=!0,r=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(c=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);c=!0);}catch(a){r=!0,o=a}finally{try{c||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var c=Object.prototype.toString.call(e).slice(8,-1);"Object"===c&&e.constructor&&(c=e.constructor.name);if("Map"===c||"Set"===c)return Array.from(e);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=new Array(t);n<t;n++)c[n]=e[n];return c}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,c=i(e);if(t){var r=i(this).constructor;n=Reflect.construct(c,arguments,r)}else n=c.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{M4UK:function(t,c,o){"use strict";o.r(c),o.d(c,"CompanyModule",(function(){return Nt}));var i=o("PCNd"),s=o("O51e"),l=o("tyNb"),p=o("kt0X"),d=o("pLZG"),b=o("eJuo"),m=o("wd/R"),f=function(e){return e.RequestCompany="[Company] Request Company",e.UpdateCompany="[Company] Set Company",e.LoadCompanyFail="[Company] Load Company Fail",e.UpdateDate="[Company] Set Date",e.RequestSlots="[Company] Request Slots",e.UpdateSlots="[Company] Update Slots",e.UpdateCurrentSlotId="[Company] Update Current Slot Id",e.LoadSlotsFail="[Company] Load Slots Fail",e.RequestAddAppointmentRequest="[Company] Request Add Appointment to Current",e.SetCurrentEmployeeId="[Company] Set Current Employee Id",e.SetCurrentServiceId="[Company] Set Current Service Id",e.SetCurrentCategoryId="[Company] Set Current Category Id",e.ClearAppointment="[Company] Clear Appointment",e.UpdateServiceSearch="[Company] Update Service Search",e.RequestCurrentRequest="[Company] Request Current Request",e.UpdateCurrentRequest="[Company] Update Current Request",e.OpenSlotsForServiceDialog="[Company] Open Slots for Service Dialog",e.RequestRemoveAppointment="[Company] Request Remove Appointment From Request",e.RequestConfirmCart="[Company] Request Confirm Cart",e}({}),h=function e(t){u(this,e),this.payload=t,this.type=f.RequestCompany},y=function e(t){u(this,e),this.payload=t,this.type=f.UpdateCompany},v=function e(t){u(this,e),this.payload=t,this.type=f.LoadCompanyFail},g=function e(t){u(this,e),this.payload=t,this.type=f.UpdateDate},O=function e(){u(this,e),this.type=f.RequestSlots},C=function e(t){u(this,e),this.payload=t,this.type=f.UpdateSlots},S=function e(t){u(this,e),this.id=t,this.type=f.UpdateCurrentSlotId},j=function e(t){u(this,e),this.payload=t,this.type=f.LoadSlotsFail},w=function e(){u(this,e),this.type=f.RequestAddAppointmentRequest},k=function e(t){u(this,e),this.payload=t,this.type=f.SetCurrentEmployeeId},q=function e(t){u(this,e),this.payload=t,this.type=f.SetCurrentServiceId},I=function e(t){u(this,e),this.payload=t,this.type=f.SetCurrentCategoryId},R=function e(t){u(this,e),this.payload=t,this.type=f.UpdateServiceSearch},V=function e(t){u(this,e),this.payload=t,this.type=f.RequestCurrentRequest},W=function e(t){u(this,e),this.payload=t,this.type=f.UpdateCurrentRequest},D=function e(){u(this,e),this.type=f.OpenSlotsForServiceDialog},$=function e(t){u(this,e),this.payload=t,this.type=f.RequestRemoveAppointment},M=function e(t){u(this,e),this.customerNotes=t,this.type=f.RequestConfirmCart},x={company:null,date:m.utc().add(1,"day").toISOString(),currentEmployeeId:null,currentServiceId:null,currentCategoryId:null,serviceSearch:"",slots:[],currentSlotId:null,loadingSlots:!1,appointment:null,apiError:null,currentRequest:null};function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.UpdateCompany:var n=e.currentServiceId;if(null!==e.currentEmployeeId&&null===e.currentServiceId){var c=t.payload.employees.find((function(t){return t.id===e.currentEmployeeId}));n=null===c?null:c.services.find((function(e){return e==e}))}return Object.assign(Object.assign({},e),{company:t.payload,currentCategoryId:t.payload.serviceCategories.map((function(e){return e.id})).find((function(e){return e==e})),currentServiceId:n,apiError:null});case f.LoadCompanyFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case f.UpdateDate:return Object.assign(Object.assign({},e),{date:t.payload.toISOString()});case f.RequestSlots:return Object.assign(Object.assign({},e),{loadingSlots:!0});case f.UpdateSlots:return Object.assign(Object.assign({},e),{slots:t.payload,currentSlotId:null,apiError:null,loadingSlots:!1});case f.UpdateCurrentSlotId:return Object.assign(Object.assign({},e),{currentSlotId:t.id});case f.LoadSlotsFail:return Object.assign(Object.assign({},e),{apiError:t.payload,loadingSlots:!1});case f.SetCurrentEmployeeId:return Object.assign(Object.assign({},e),{currentEmployeeId:0===t.payload?null:t.payload});case f.SetCurrentServiceId:return Object.assign(Object.assign({},e),{currentServiceId:t.payload});case f.ClearAppointment:return Object.assign(Object.assign({},e),{appointment:null});case f.SetCurrentCategoryId:return Object.assign(Object.assign({},e),{currentCategoryId:t.payload});case f.UpdateServiceSearch:return Object.assign(Object.assign({},e),{serviceSearch:t.payload});case f.UpdateCurrentRequest:return Object.assign(Object.assign({},e),{currentRequest:t.payload});default:return e}}var E,A,P=Object(p.o)("company"),U=(Object(p.q)(P,(function(e){return e.apiError})),Object(p.q)(P,(function(e){return e.company}))),_=Object(p.q)(U,(function(e){return e?e.services:null})),G=Object(p.q)(U,(function(e){return e?e.serviceCategories:null})),L=Object(p.q)(P,(function(e){return e.currentCategoryId})),N=Object(p.q)(_,L,(function(e,t){return e?e.filter((function(e){return e.category===t})):[]})),K=Object(p.q)(U,(function(e){return e?e.employees:[]})),H=Object(p.q)(K,_,(function(e,t){return e.map((function(e){return{employee:e,services:t.filter((function(t){return e.services.includes(t.id)}))}}))})),T=Object(p.q)(U,(function(e){return e?e.name:""})),Q=Object(p.q)(P,(function(e){return e.date})),B=Object(p.q)(Q,(function(e){return m.utc(e)})),Y=(Object(p.q)(P,(function(e){return e.appointment})),Object(p.q)(P,(function(e){return e.currentEmployeeId}))),X=Object(p.q)(K,Y,(function(e,t){return null===e||null===t||0===t?null:e.find((function(e){return e.id===t}))})),z=Object(p.q)(X,_,(function(e,t){return t.filter((function(t){return e.services.includes(t.id)}))})),J=Object(p.q)(P,(function(e){return e.serviceSearch})),Z=Object(p.q)(z,J,(function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))})),ee=(Object(p.q)(H,Y,(function(e,t){return null===t||0===t?null:e.find((function(e){return e.employee.id===t}))})),Object(p.q)(P,(function(e){return e.currentServiceId}))),te=Object(p.q)(_,ee,(function(e,t){return null===t?null:e.find((function(e){return e.id===t}))})),ne=Object(p.q)(P,(function(e){return e.loadingSlots})),ce=Object(p.q)(Y,ee,Q,(function(e,t,n){if(null===t||null===n)return null;var c={service:t,start:m.utc(n).startOf("day"),end:m.utc(n).add(1,"d").endOf("day")};return e&&(c.employee=e),c})),re=Object(p.q)(P,(function(e){var t=0;return e.slots.map((function(e){return{id:t++,title:e.start.format("HH:mm")+" - "+e.end.format("HH:mm"),start:e.start,end:e.end}}))})),oe=(Object(p.q)(X,te,B,(function(e,t,n){var c=new b.a;return c.service=t,c.employee=e,c.start=n,c})),Object(p.q)(U,(function(e){return e.config.preBookWarn}))),ie=(Object(p.q)(U,(function(e){return e.config.postBookMessage})),Object(p.q)(P,(function(e){return e.currentRequest}))),se=Object(p.q)(ie,(function(e){return e.items})),ae=(Object(p.q)(se,(function(e){return e.length})),Object(p.q)(P,(function(e){return e.currentSlotId}))),ue=Object(p.q)(re,ae,(function(e,t){return e.find((function(e){return e.id===t}))})),le=o("YZpF"),pe=o("fXoL"),de=((E=function(){function e(t,n){u(this,e),this.route=t,this.store=n}return a(e,[{key:"ngOnInit",value:function(){var e=this.route.snapshot.paramMap.get("cid");this.store.dispatch(new h(e)),this.store.dispatch(new le.d(e)),this.observeAndReloadSlots()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.store.dispatch(new le.d(null))}},{key:"observeAndReloadSlots",value:function(){var e=this;this.subscription=this.store.pipe(Object(p.t)(ce),Object(d.a)((function(e){return null!==e}))).subscribe((function(t){return e.store.dispatch(new O)}))}}]),e}()).\u0275fac=function(e){return new(e||E)(pe.Qb(l.a),pe.Qb(p.h))},E.\u0275cmp=pe.Kb({type:E,selectors:[["company-shell"]],decls:1,vars:0,template:function(e,t){1&e&&pe.Rb(0,"router-outlet")},directives:[l.g],styles:[""]}),E),be=o("r32Y"),me=o("ofXK"),fe=((A=function e(){u(this,e),this.selectEmployee=new pe.o}).\u0275fac=function(e){return new(e||A)},A.\u0275cmp=pe.Kb({type:A,selectors:[["company-employee-list-card"]],inputs:{model:"model"},outputs:{selectEmployee:"selectEmployee"},decls:9,vars:4,consts:[[1,"emp-card-container"],[1,"company-circle-img",3,"src"],[1,"emp-card-content"],[1,"h4"],[1,"emp-card-button"],[1,"btn","btn-primary-gradient",3,"routerLink"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Rb(1,"img",1),pe.Wb(2,"div",2),pe.Wb(3,"div",3),pe.Gc(4),pe.Vb(),pe.Gc(5),pe.Wb(6,"div",4),pe.Wb(7,"button",5),pe.Gc(8," Book appointment "),pe.Vb(),pe.Vb(),pe.Vb(),pe.Vb()),2&e&&(pe.Db(1),pe.pc("src",t.model.employee.photoUrl,pe.zc),pe.Db(3),pe.Ic(" ",t.model.employee.name," "),pe.Db(1),pe.Ic(" ",t.model.employee.bio," "),pe.Db(2),pe.qc("routerLink","staff/",t.model.employee.id,""))},directives:[l.c],styles:[".emp-card-container[_ngcontent-%COMP%]{display:flex}.emp-card-content[_ngcontent-%COMP%]{text-align:right;width:100%}.emp-card-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px}.h4[_ngcontent-%COMP%]{text-transform:uppercase}"]}),A);function he(e,t){if(1&e&&(pe.Wb(0,"div",3),pe.Rb(1,"company-employee-list-card",4),pe.Vb()),2&e){var n=t.$implicit;pe.Db(1),pe.oc("model",n)}}var ye,ve,ge=((ve=function e(){u(this,e)}).\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=pe.Kb({type:ve,selectors:[["company-employee-list"]],inputs:{employees:"employees",companyName:"companyName"},decls:4,vars:1,consts:[[1,"row"],[1,"col-12","h1"],["class","col-sm-12 col-md-6 emp-card-box",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","emp-card-box"],[3,"model"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Wb(1,"div",1),pe.Gc(2," OUR TEAM "),pe.Vb(),pe.Ec(3,he,2,1,"div",2),pe.Vb()),2&e&&(pe.Db(3),pe.oc("ngForOf",t.employees))},directives:[me.k,fe],styles:[".emp-card-box[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:25px;padding-right:25px}"]}),ve),Oe=((ye=function(e){n(c,e);var t=r(c);function c(e){var n;return u(this,c),(n=t.call(this,e)).store=e,n}return a(c,[{key:"ngOnInit",value:function(){this.employees$=this.store.pipe(Object(p.t)(H)),this.companyName$=this.store.pipe(Object(p.t)(T))}}]),c}(be.a)).\u0275fac=function(e){return new(e||ye)(pe.Qb(p.h))},ye.\u0275cmp=pe.Kb({type:ye,selectors:[["company-employees-shell"]],features:[pe.Ab],decls:3,vars:6,consts:[[3,"employees","companyName"]],template:function(e,t){1&e&&(pe.Rb(0,"company-employee-list",0),pe.jc(1,"async"),pe.jc(2,"async")),2&e&&pe.oc("employees",pe.kc(1,2,t.employees$))("companyName",pe.kc(2,4,t.companyName$))},directives:[ge],pipes:[me.b],styles:[""]}),ye);function Ce(e,t){if(1&e&&(pe.Wb(0,"div",1),pe.Rb(1,"img",2),pe.Wb(2,"h1",3),pe.Gc(3),pe.Vb(),pe.Vb()),2&e){var n=pe.ic();pe.Db(1),pe.pc("src",n.employee.photoUrl,pe.zc),pe.Db(2),pe.Hc(n.employee.name)}}var Se,je,we=((Se=function e(){u(this,e)}).\u0275fac=function(e){return new(e||Se)},Se.\u0275cmp=pe.Kb({type:Se,selectors:[["company-employee-details-card"]],inputs:{employee:"employee",companyName:"companyName"},decls:1,vars:1,consts:[["class","employee-details-card-container",4,"ngIf"],[1,"employee-details-card-container"],[1,"company-circle-img",3,"src"],[1,"w-100","text-right"]],template:function(e,t){1&e&&pe.Ec(0,Ce,4,2,"div",0),2&e&&pe.oc("ngIf",t.employee)},directives:[me.l],styles:[".employee-details-card-container[_ngcontent-%COMP%]{display:flex}.blob-holder[_ngcontent-%COMP%]{max-height:20rem}"]}),Se),ke=o("kmnG"),qe=o("qFsG"),Ie=o("3Pt+"),Re=o("NFeN"),Ve=o("3lmY"),We=o("Qu3c"),De=o("QibW"),$e=((je=function e(){u(this,e),this.selected=new pe.o}).\u0275fac=function(e){return new(e||je)},je.\u0275cmp=pe.Kb({type:je,selectors:[["company-service-list-card"]],inputs:{service:"service",checked:"checked"},outputs:{selected:"selected"},decls:11,vars:6,consts:[[1,"service-list-card-container"],[1,"card-title-container"],[3,"matTooltip"],["color","accent",3,"checked","value","click"],[1,"c-primary","text-right"],[1,"tiny","light-grey"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Wb(1,"div",1),pe.Wb(2,"h6",2),pe.Gc(3),pe.Vb(),pe.Vb(),pe.Wb(4,"div"),pe.Wb(5,"mat-radio-button",3),pe.ec("click",(function(){return t.selected.emit(t.service.id)})),pe.Vb(),pe.Vb(),pe.Wb(6,"div",4),pe.Wb(7,"p"),pe.Gc(8),pe.Vb(),pe.Wb(9,"p",5),pe.Gc(10),pe.Vb(),pe.Vb(),pe.Vb()),2&e&&(pe.Db(2),pe.oc("matTooltip",t.service.name),pe.Db(1),pe.Hc(t.service.name),pe.Db(2),pe.oc("checked",t.checked)("value",t.service.id),pe.Db(3),pe.Hc(t.service.price),pe.Db(2),pe.Ic("ETA: ",t.service.duration,""))},directives:[We.a,De.a],styles:[".service-list-card-container[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #a1a1a1;margin-bottom:15px;margin-right:20px;white-space:nowrap}.card-title-container[_ngcontent-%COMP%]{text-transform:capitalize;overflow-x:hidden;width:100%}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}.select-circle[_ngcontent-%COMP%]{background:linear-gradient(247.82deg,#f2a1a1,#aa83c3 200.13%);transform:matrix(-1,0,0,1,0,0)}"]}),je);function Me(e,t){if(1&e){var n=pe.Xb();pe.Wb(0,"div",6),pe.Wb(1,"company-service-list-card",7),pe.ec("selected",(function(e){return pe.yc(n),pe.ic().select.emit(e)})),pe.Vb(),pe.Vb()}if(2&e){var c=t.$implicit,r=pe.ic();pe.Db(1),pe.oc("service",c)("checked",c.id===r.selected)}}var xe,Fe,Ee,Ae,Pe=((Fe=function(){function e(){u(this,e),this.searchChange=new pe.o,this.select=new pe.o}return a(e,[{key:"search",set:function(e){this.searchValue=e}}]),e}()).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275cmp=pe.Kb({type:Fe,selectors:[["company-employee-details-services"]],inputs:{services:"services",selected:"selected",search:"search"},outputs:{searchChange:"searchChange",select:"select"},decls:10,vars:2,consts:[[1,"search-box-container","mb-3","company-shadow-0"],[1,"w-100"],["autocomplete","off","matInput","","placeholder","search",3,"ngModel","ngModelChange","keyup"],["matSuffix","","color","primary"],[1,"row","pretty-scroll"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Wb(1,"mat-form-field",1),pe.Wb(2,"mat-label"),pe.Gc(3,"Search"),pe.Vb(),pe.Wb(4,"input",2),pe.ec("ngModelChange",(function(e){return t.searchValue=e}))("keyup",(function(){return t.searchChange.emit(t.searchValue)})),pe.Vb(),pe.Wb(5,"mat-icon",3),pe.Gc(6,"search"),pe.Vb(),pe.Vb(),pe.Vb(),pe.Wb(7,"app-kalendario-card"),pe.Wb(8,"div",4),pe.Ec(9,Me,2,2,"div",5),pe.Vb(),pe.Vb()),2&e&&(pe.Db(4),pe.oc("ngModel",t.searchValue),pe.Db(5),pe.oc("ngForOf",t.services))},directives:[ke.b,ke.e,qe.b,Ie.b,Ie.n,Ie.q,Re.a,ke.f,Ve.a,me.k,$e],styles:[".search-box-container[_ngcontent-%COMP%]{padding:1rem 2rem .5rem;border-radius:10px;background-color:#fff}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;max-height:26.75rem}"]}),Fe),Ue=((xe=function(){function e(t){u(this,e),this.store=t}return a(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new R("")),this.services$=this.store.select(Z),this.selected$=this.store.select(ee),this.search$=this.store.select(J)}},{key:"setSearch",value:function(e){this.store.dispatch(new R(e))}},{key:"setCurrentService",value:function(e){this.store.dispatch(new q(e))}}]),e}()).\u0275fac=function(e){return new(e||xe)(pe.Qb(p.h))},xe.\u0275cmp=pe.Kb({type:xe,selectors:[["company-employee-details-services-shell"]],decls:4,vars:9,consts:[[3,"services","search","selected","searchChange","select"]],template:function(e,t){1&e&&(pe.Wb(0,"company-employee-details-services",0),pe.ec("searchChange",(function(e){return t.setSearch(e)}))("select",(function(e){return t.setCurrentService(e)})),pe.jc(1,"async"),pe.jc(2,"async"),pe.jc(3,"async"),pe.Vb()),2&e&&pe.oc("services",pe.kc(1,3,t.services$))("search",pe.kc(2,5,t.search$))("selected",pe.kc(3,7,t.selected$))},directives:[Pe],pipes:[me.b],styles:[""]}),xe),_e=o("bTqV"),Ge=o("iadO"),Le=o("Xa2L"),Ne=((Ae=function e(){u(this,e),this.eventClick=new pe.o}).\u0275fac=function(e){return new(e||Ae)},Ae.\u0275cmp=pe.Kb({type:Ae,selectors:[["company-service-slot"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},outputs:{eventClick:"eventClick"},decls:3,vars:3,consts:[[1,"slot-container","bs-primary","m-auto",3,"click"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.ec("click",(function(){return t.eventClick.emit()})),pe.Wb(1,"p"),pe.Gc(2),pe.Vb(),pe.Vb()),2&e&&(pe.Hb("bg-primary-gradient",t.slot.id===t.currentSlotId),pe.Db(2),pe.Hc(t.slot.title))},styles:["p[_ngcontent-%COMP%]{margin:0}.slot-container[_ngcontent-%COMP%]{padding:.5rem;border-radius:3px;text-align:center;width:10rem;cursor:pointer}"]}),Ae),Ke=((Ee=function(){function e(t){u(this,e),this.store=t}return a(e,[{key:"selectSlot",value:function(){this.store.dispatch(new S(this.slot.id))}}]),e}()).\u0275fac=function(e){return new(e||Ee)(pe.Qb(p.h))},Ee.\u0275cmp=pe.Kb({type:Ee,selectors:[["company-service-slot-shell"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},decls:1,vars:2,consts:[[3,"slot","currentSlotId","eventClick"]],template:function(e,t){1&e&&(pe.Wb(0,"company-service-slot",0),pe.ec("eventClick",(function(){return t.selectSlot()})),pe.Vb()),2&e&&pe.oc("slot",t.slot)("currentSlotId",t.currentSlotId)},directives:[Ne],styles:[""]}),Ee);function He(e,t){1&e&&(pe.Wb(0,"div",17),pe.Rb(1,"mat-spinner",18),pe.Vb())}function Te(e,t){if(1&e&&(pe.Wb(0,"h5",19),pe.Gc(1),pe.Vb()),2&e){var n=pe.ic();pe.Db(1),pe.Hc(n.service.name)}}function Qe(e,t){if(1&e&&(pe.Wb(0,"div",22),pe.Rb(1,"company-service-slot-shell",23),pe.Vb()),2&e){var n=t.$implicit,c=pe.ic(2);pe.Db(1),pe.oc("slot",n)("currentSlotId",c.currentSlotId)}}function Be(e,t){if(1&e&&(pe.Wb(0,"div",22),pe.Rb(1,"company-service-slot-shell",23),pe.Vb()),2&e){var n=t.$implicit,c=pe.ic(2);pe.Db(1),pe.oc("slot",n)("currentSlotId",c.currentSlotId)}}function Ye(e,t){if(1&e&&(pe.Ub(0),pe.Wb(1,"div",20),pe.Ec(2,Qe,2,2,"div",21),pe.Vb(),pe.Wb(3,"div",20),pe.Ec(4,Be,2,2,"div",21),pe.Vb(),pe.Tb()),2&e){var n=pe.ic();pe.Db(2),pe.oc("ngForOf",n.currentDateSlots()),pe.Db(2),pe.oc("ngForOf",n.nextDaySlots())}}var Xe,ze,Je=((ze=function(){function e(){u(this,e),this.isMobile=!1,this.isLoading=!1,this.hasShadow=!0,this.dateChange=new pe.o,this.book=new pe.o}return a(e,[{key:"today",value:function(){this.dateChange.emit(m.utc())}},{key:"previousDay",value:function(){this.dateChange.emit(this.currentDate.subtract(1,"day"))}},{key:"nextDay",value:function(){this.dateChange.emit(this.currentDate.add(1,"day"))}},{key:"currentDateSlots",value:function(){var e=this;return this.serviceSlots.filter((function(t){return t.start.date()===e.currentDate.date()}))}},{key:"nextDaySlots",value:function(){var e=this;return this.serviceSlots.filter((function(t){return t.start.date()===e.nextDate.date()}))}},{key:"date",set:function(e){this.currentDate=e,this.nextDate=e.clone().add(1,"d"),this.currentDateFormatted=this.currentDate.format("ddd DD/MM/YYYY"),this.nextDayFormatted=this.nextDate.format("ddd DD/MM/YYYY")}}]),e}()).\u0275fac=function(e){return new(e||ze)},ze.\u0275cmp=pe.Kb({type:ze,selectors:[["company-slots-for-service"]],inputs:{serviceSlots:"serviceSlots",currentSlotId:"currentSlotId",isMobile:"isMobile",isLoading:"isLoading",hasShadow:"hasShadow",date:"date",service:"service"},outputs:{dateChange:"dateChange",book:"book"},decls:26,vars:11,consts:[[3,"hasShadow"],[1,"text-center","mb-2"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-accent",3,"click"],["mat-icon-button","","color","accent",3,"click"],[1,"icon"],["matInput","","readonly","",3,"value","matDatepicker","click","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["dpAppointmentDashboard",""],[1,"slots-container"],[1,"row","no-gutters","text-center","pretty-scroll"],["class","col-12",4,"ngIf"],["class","col-12 c-accent pb-3 mb-0 sticky-top bg-white",4,"ngIf"],[1,"col-6","pb-3","sticky-top-3","bg-white"],[1,"col-6","sticky-top-3","bg-white"],[4,"ngIf"],[1,"col-12"],[1,"m-auto"],[1,"col-12","c-accent","pb-3","mb-0","sticky-top","bg-white"],[1,"col-6"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"slot","currentSlotId"]],template:function(e,t){if(1&e){var n=pe.Xb();pe.Wb(0,"app-kalendario-card",0),pe.Wb(1,"div",1),pe.Wb(2,"button",2),pe.ec("click",(function(){return t.book.emit()})),pe.Gc(3," Book Now "),pe.Vb(),pe.Wb(4,"button",3),pe.ec("click",(function(){return t.today()})),pe.Gc(5," Today "),pe.Vb(),pe.Wb(6,"button",4),pe.ec("click",(function(){return t.previousDay()})),pe.Wb(7,"mat-icon",5),pe.Gc(8,"chevron_left"),pe.Vb(),pe.Vb(),pe.Wb(9,"button",4),pe.ec("click",(function(){return t.nextDay()})),pe.Wb(10,"mat-icon",5),pe.Gc(11,"chevron_right"),pe.Vb(),pe.Vb(),pe.Wb(12,"mat-form-field"),pe.Wb(13,"input",6),pe.ec("click",(function(){return pe.yc(n),pe.vc(16).open()}))("dateChange",(function(e){return t.dateChange.emit(e.value)})),pe.Vb(),pe.Rb(14,"mat-datepicker-toggle",7),pe.Rb(15,"mat-datepicker",8,9),pe.Vb(),pe.Vb(),pe.Wb(17,"div",10),pe.Wb(18,"div",11),pe.Ec(19,He,2,0,"div",12),pe.Ec(20,Te,2,1,"h5",13),pe.Wb(21,"h5",14),pe.Gc(22),pe.Vb(),pe.Wb(23,"h5",15),pe.Gc(24),pe.Vb(),pe.Ec(25,Ye,5,2,"ng-container",16),pe.Vb(),pe.Vb(),pe.Vb()}if(2&e){var c=pe.vc(16);pe.oc("hasShadow",t.hasShadow),pe.Db(2),pe.oc("disabled",null===t.currentSlotId),pe.Db(11),pe.oc("value",t.currentDate)("matDatepicker",c),pe.Db(1),pe.oc("for",c),pe.Db(1),pe.pc("touchUi",t.isMobile),pe.Db(4),pe.oc("ngIf",t.isLoading),pe.Db(1),pe.oc("ngIf",t.service),pe.Db(2),pe.Hc(t.currentDateFormatted),pe.Db(2),pe.Hc(t.nextDayFormatted),pe.Db(1),pe.oc("ngIf",!t.isLoading)}},directives:[Ve.a,_e.a,Re.a,ke.b,qe.b,Ge.b,Ge.d,ke.f,Ge.a,me.l,Le.b,me.k,Ke],styles:[".card-container[_ngcontent-%COMP%]{max-width:632px}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;min-height:28.5rem;height:28.5rem;max-height:28.5rem}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top-3[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:2.5rem;z-index:50}}"]}),ze),Ze=((Xe=function(e){n(c,e);var t=r(c);function c(e){var n;return u(this,c),(n=t.call(this,e)).store=e,n.hasShadow=!0,n}return a(c,[{key:"ngOnInit",value:function(){this.events$=this.store.select(re),this.getCurrentSlotId$=this.store.select(ae),this.date$=this.store.select(B),this.service$=this.store.select(te),this.isLoading$=this.store.select(ne)}},{key:"setDate",value:function(e){this.store.dispatch(new g(e))}},{key:"addToCart",value:function(){this.store.dispatch(new w)}}]),c}(be.a)).\u0275fac=function(e){return new(e||Xe)(pe.Qb(p.h))},Xe.\u0275cmp=pe.Kb({type:Xe,selectors:[["company-slots-for-service-shell"]],inputs:{hasShadow:"hasShadow"},features:[pe.Ab],decls:7,vars:19,consts:[[3,"serviceSlots","currentSlotId","date","service","isLoading","hasShadow","isMobile","dateChange","book"]],template:function(e,t){1&e&&(pe.Wb(0,"company-slots-for-service",0),pe.ec("dateChange",(function(e){return t.setDate(e)}))("book",(function(){return t.addToCart()})),pe.jc(1,"async"),pe.jc(2,"async"),pe.jc(3,"async"),pe.jc(4,"async"),pe.jc(5,"async"),pe.jc(6,"async"),pe.Vb()),2&e&&pe.oc("serviceSlots",pe.kc(1,7,t.events$))("currentSlotId",pe.kc(2,9,t.getCurrentSlotId$))("date",pe.kc(3,11,t.date$))("service",pe.kc(4,13,t.service$))("isLoading",pe.kc(5,15,t.isLoading$))("hasShadow",t.hasShadow)("isMobile",pe.kc(6,17,t.isMobile$))},directives:[Je],pipes:[me.b],styles:[""]}),Xe);function et(e,t){if(1&e&&(pe.Wb(0,"div",1),pe.Wb(1,"div",2),pe.Rb(2,"company-employee-details-card",3),pe.jc(3,"async"),pe.Vb(),pe.Wb(4,"div",4),pe.Wb(5,"div",5),pe.Rb(6,"company-employee-details-services-shell"),pe.Vb(),pe.Wb(7,"div",5),pe.Rb(8,"company-slots-for-service-shell"),pe.Vb(),pe.Vb(),pe.Vb()),2&e){var n=t.ngIf,c=pe.ic();pe.Db(2),pe.oc("employee",n)("companyName",pe.kc(3,2,c.companyName$))}}var tt,nt=((tt=function(e){n(c,e);var t=r(c);function c(e,n){var r;return u(this,c),(r=t.call(this,e)).store=e,r.route=n,r}return a(c,[{key:"ngOnInit",value:function(){var e=+this.route.snapshot.paramMap.get("id");this.store.dispatch(new k(e)),this.model$=this.store.select(X),this.companyName$=this.store.select(T)}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new k(null))}}]),c}(be.a)).\u0275fac=function(e){return new(e||tt)(pe.Qb(p.h),pe.Qb(l.a))},tt.\u0275cmp=pe.Kb({type:tt,selectors:[["company-employee-details-page"]],features:[pe.Ab],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"m-4"],[3,"employee","companyName"],[1,"row"],[1,"col-sm-12","col-md-6","mb-2"]],template:function(e,t){1&e&&(pe.Ec(0,et,9,4,"div",0),pe.jc(1,"async")),2&e&&pe.oc("ngIf",pe.kc(1,1,t.model$))},directives:[me.l,we,Ue,Ze],pipes:[me.b],styles:[".employee-services-container[_ngcontent-%COMP%]{padding:1rem}"],changeDetection:0}),tt),ct=o("vqYj");function rt(e,t){if(1&e&&pe.Rb(0,"shared-company-avatar",1),2&e){var n=t.ngIf;pe.oc("logo",n.avatarUrl)("name",n.name)("address",n.address)}}var ot,it=((ot=function e(t){u(this,e),this.store=t,this.company$=t.select(U)}).\u0275fac=function(e){return new(e||ot)(pe.Qb(p.h))},ot.\u0275cmp=pe.Kb({type:ot,selectors:[["company-logo-shell"]],decls:2,vars:3,consts:[[3,"logo","name","address",4,"ngIf"],[3,"logo","name","address"]],template:function(e,t){1&e&&(pe.Ec(0,rt,1,3,"shared-company-avatar",0),pe.jc(1,"async")),2&e&&pe.oc("ngIf",pe.kc(1,1,t.company$))},directives:[me.l,ct.a],pipes:[me.b],styles:[""]}),ot);function st(e,t){if(1&e){var n=pe.Xb();pe.Wb(0,"div",7),pe.ec("click",(function(){pe.yc(n);var e=t.$implicit;return pe.ic().selectCategory.emit(e.id)})),pe.Gc(1),pe.Vb()}if(2&e){var c=t.$implicit,r=pe.ic();pe.Hb("selected-category",c.id===r.currentCategoryId),pe.Db(1),pe.Ic(" ",c.name," ")}}function at(e,t){if(1&e){var n=pe.Xb();pe.Wb(0,"div",8),pe.Wb(1,"company-service-list-card",9),pe.ec("selected",(function(e){return pe.yc(n),pe.ic().selectService.emit(e)})),pe.Vb(),pe.Vb()}if(2&e){var c=t.$implicit,r=pe.ic();pe.Db(1),pe.oc("service",c)("checked",c.id===r.currentServiceId)}}var ut,lt,pt,dt=((pt=function e(){u(this,e),this.selectCategory=new pe.o,this.selectService=new pe.o}).\u0275fac=function(e){return new(e||pt)},pt.\u0275cmp=pe.Kb({type:pt,selectors:[["company-service-list"]],inputs:{services:"services",categories:"categories",currentCategoryId:"currentCategoryId",currentServiceId:"currentServiceId"},outputs:{selectCategory:"selectCategory",selectService:"selectService"},decls:10,vars:4,consts:[[1,"h1"],[1,"s-l-container"],[1,"s-l-categories"],["class","mb-4 s-l-item",3,"selected-category","click",4,"ngFor","ngForOf"],[1,"s-l-item",3,"click"],[1,"row","no-gutters","pretty-scroll"],["class","col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"mb-4","s-l-item",3,"click"],[1,"col-sm-12","col-md-6"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Gc(1," ALL SERVICES\n"),pe.Vb(),pe.Wb(2,"app-kalendario-card"),pe.Wb(3,"div",1),pe.Wb(4,"div",2),pe.Ec(5,st,2,3,"div",3),pe.Wb(6,"div",4),pe.ec("click",(function(){return t.selectCategory.emit(null)})),pe.Gc(7," Other "),pe.Vb(),pe.Vb(),pe.Wb(8,"div",5),pe.Ec(9,at,2,2,"div",6),pe.Vb(),pe.Vb(),pe.Vb()),2&e&&(pe.Db(5),pe.oc("ngForOf",t.categories),pe.Db(1),pe.Hb("selected-category",null===t.currentCategoryId),pe.Db(3),pe.oc("ngForOf",t.services))},directives:[Ve.a,me.k,$e],styles:[".s-l-container[_ngcontent-%COMP%]{display:flex;padding:2em}.row[_ngcontent-%COMP%]{max-height:400px;min-height:400px;width:100%;overflow-y:scroll}.selected-category[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.s-l-categories[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;margin-right:2em;font-weight:600;font-size:14px;line-height:17px;letter-spacing:.12em}.s-l-item[_ngcontent-%COMP%]{cursor:pointer}"]}),pt),bt=((lt=function(){function e(t){u(this,e),this.store=t,this.services$=this.store.select(N),this.categories$=this.store.select(G),this.currentCategoryId$=this.store.select(L),this.currentServiceId$=this.store.select(ee)}return a(e,[{key:"updateSelectedCategory",value:function(e){this.store.dispatch(new I(e))}},{key:"updateSelectedService",value:function(e){this.store.dispatch(new q(e)),this.store.dispatch(new D)}}]),e}()).\u0275fac=function(e){return new(e||lt)(pe.Qb(p.h))},lt.\u0275cmp=pe.Kb({type:lt,selectors:[["company-services-shell"]],decls:5,vars:12,consts:[[3,"services","categories","currentCategoryId","currentServiceId","selectCategory","selectService"]],template:function(e,t){1&e&&(pe.Wb(0,"company-service-list",0),pe.ec("selectCategory",(function(e){return t.updateSelectedCategory(e)}))("selectService",(function(e){return t.updateSelectedService(e)})),pe.jc(1,"async"),pe.jc(2,"async"),pe.jc(3,"async"),pe.jc(4,"async"),pe.Vb()),2&e&&pe.oc("services",pe.kc(1,4,t.services$))("categories",pe.kc(2,6,t.categories$))("currentCategoryId",pe.kc(3,8,t.currentCategoryId$))("currentServiceId",pe.kc(4,10,t.currentServiceId$))},directives:[dt],pipes:[me.b],styles:[""]}),lt),mt=((ut=function e(){u(this,e)}).\u0275fac=function(e){return new(e||ut)},ut.\u0275cmp=pe.Kb({type:ut,selectors:[["company-landing-page"]],decls:12,vars:0,consts:[[1,"container","kalendario-company"],[1,"mb-100"]],template:function(e,t){1&e&&(pe.Wb(0,"div"),pe.Wb(1,"div",0),pe.Wb(2,"div",1),pe.Rb(3,"company-logo-shell"),pe.Vb(),pe.Wb(4,"div",1),pe.Rb(5,"company-services-shell"),pe.Vb(),pe.Wb(6,"div",1),pe.Rb(7,"company-employees-shell"),pe.Vb(),pe.Wb(8,"div",1),pe.Wb(9,"h1"),pe.Gc(10,"ABOUT US"),pe.Vb(),pe.Gc(11," Etiam pulvinar scelerisque urna ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam lorem ipsum, maximus vitae eros id, mollis ornare purus. Sed interdum enim a leo ullamcorper lobortis. In ligula mi, consectetur at elit ac, varius efficitur eros. Morbi mollis ante sit amet quam mollis rhoncus. Nunc nec neque nisi. In vitae velit in turpis rutrum pharetra vel in odio. Proin ut placerat est, at semper elit. Sed vestibulum molestie eros et feugiat. Fusce non augue ac massa suscipit fringilla. Proin quam lorem, molestie vitae nulla et, mattis dictum ipsum. Morbi ut mattis est. Proin eu mi ac purus sollicitudin posuere nec ac dui. Etiam et diam molestie, imperdiet purus eu, ultricies urna. "),pe.Vb(),pe.Vb(),pe.Vb())},directives:[it,bt,Oe],styles:[""]}),ut),ft=o("6t+O");function ht(e,t){if(1&e&&(pe.Ub(0),pe.Wb(1,"div",8),pe.Gc(2),pe.Vb(),pe.Wb(3,"div",9),pe.Gc(4),pe.Vb(),pe.Tb()),2&e){var n=t.$implicit;pe.Db(2),pe.Hc(n.service.name),pe.Db(2),pe.Hc(n.service.price)}}var yt,vt=((yt=function(){function e(){u(this,e),this.confirm=new pe.o}return a(e,[{key:"appointments",value:function(){return this.request.items.reduce((function(e,t){return e.concat(t.appointments)}),[])}}]),e}()).\u0275fac=function(e){return new(e||yt)},yt.\u0275cmp=pe.Kb({type:yt,selectors:[["company-cart-summary"]],inputs:{request:"request",preBookMessage:"preBookMessage"},outputs:{confirm:"confirm"},decls:19,vars:7,consts:[[1,"row","m-4"],[1,"col-12"],[1,"col-12","m-4"],[4,"ngFor","ngForOf"],[1,"col-9","h5"],[1,"col-3","h5","text-right","c-primary"],["matInput","","placeholder","additional information",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"w-100",3,"click"],[1,"col-9"],[1,"col-3","text-right","c-primary"]],template:function(e,t){1&e&&(pe.Wb(0,"app-kalendario-card"),pe.Wb(1,"div",0),pe.Wb(2,"div",1),pe.Rb(3,"company-logo-shell"),pe.Vb(),pe.Wb(4,"div",2),pe.Gc(5),pe.Vb(),pe.Ec(6,ht,5,2,"ng-container",3),pe.Rb(7,"div",2),pe.Wb(8,"div",4),pe.Gc(9," TOTAL "),pe.Vb(),pe.Wb(10,"div",5),pe.Gc(11),pe.jc(12,"currency"),pe.Vb(),pe.Wb(13,"div",1),pe.Wb(14,"mat-form-field"),pe.Wb(15,"textarea",6),pe.ec("ngModelChange",(function(e){return t.customerNotes=e})),pe.Vb(),pe.Vb(),pe.Vb(),pe.Wb(16,"div",1),pe.Wb(17,"button",7),pe.ec("click",(function(){return t.confirm.emit(t.customerNotes)})),pe.Gc(18,"process request"),pe.Vb(),pe.Vb(),pe.Vb(),pe.Vb()),2&e&&(pe.Db(5),pe.Ic(" ",t.preBookMessage," "),pe.Db(1),pe.oc("ngForOf",t.appointments()),pe.Db(5),pe.Hc(pe.lc(12,4,t.request.total,"\u20ac")),pe.Db(4),pe.oc("ngModel",t.customerNotes))},directives:[Ve.a,it,me.k,ke.b,qe.b,Ie.b,Ie.n,Ie.q,_e.a],pipes:[me.d],styles:[".row[_ngcontent-%COMP%]{font-weight:500}.col-9[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),yt);function gt(e,t){if(1&e){var n=pe.Xb();pe.Wb(0,"div",2),pe.Wb(1,"div",3),pe.Wb(2,"company-request",4),pe.ec("remove",(function(e){return pe.yc(n),pe.ic().removeItem(e)})),pe.Vb(),pe.Vb(),pe.Wb(3,"div",3),pe.Wb(4,"company-cart-summary",5),pe.ec("confirm",(function(e){return pe.yc(n),pe.ic().confirm(e)})),pe.jc(5,"async"),pe.Vb(),pe.Vb(),pe.Vb()}if(2&e){var c=t.ngIf,r=pe.ic();pe.Db(2),pe.oc("request",c),pe.Db(2),pe.oc("request",c)("preBookMessage",pe.kc(5,3,r.preBookMessage$))}}var Ot,Ct,St,jt,wt,kt=((Ot=function(){function e(t){u(this,e),this.store=t}return a(e,[{key:"ngOnInit",value:function(){this.request$=this.store.select(ie),this.preBookMessage$=this.store.select(oe)}},{key:"removeItem",value:function(e){this.store.dispatch(new $(e))}},{key:"confirm",value:function(e){this.store.dispatch(new M(e))}}]),e}()).\u0275fac=function(e){return new(e||Ot)(pe.Qb(p.h))},Ot.\u0275cmp=pe.Kb({type:Ot,selectors:[["app-cart-page"]],decls:3,vars:3,consts:[[1,"container"],["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-sm-12","col-md-6"],[3,"request","remove"],[3,"request","preBookMessage","confirm"]],template:function(e,t){1&e&&(pe.Wb(0,"div",0),pe.Ec(1,gt,6,5,"div",1),pe.jc(2,"async"),pe.Vb()),2&e&&(pe.Db(1),pe.oc("ngIf",pe.kc(2,1,t.request$)))},directives:[me.l,ft.a,vt],pipes:[me.b],styles:[""]}),Ot),qt=o("LjFu"),It=[{path:":cid",component:de,children:[{path:"staff",component:Oe},{path:"staff/:id",component:nt},{path:"cart",component:kt,canActivate:[qt.a]},{path:"",component:mt}]}],Rt=((Ct=function e(){u(this,e)}).\u0275mod=pe.Ob({type:Ct}),Ct.\u0275inj=pe.Nb({factory:function(e){return new(e||Ct)},imports:[[l.f.forChild(It)],l.f]}),Ct),Vt=o("snw9"),Wt=o("mrSG"),Dt=o("LRne"),$t=o("lJxs"),Mt=o("eIep"),xt=o("5+tZ"),Ft=o("JIr8"),Et=o("zp1y"),At=o("vkgz"),Pt=o("0IaG"),Ut=((St=function e(t){u(this,e),this.dialogRef=t}).\u0275fac=function(e){return new(e||St)(pe.Qb(Pt.g))},St.\u0275cmp=pe.Kb({type:St,selectors:[["app-slots-for-service-dialog"]],decls:2,vars:1,consts:[[3,"hasShadow"]],template:function(e,t){1&e&&(pe.Wb(0,"mat-dialog-content"),pe.Rb(1,"company-slots-for-service-shell",0),pe.Vb()),2&e&&(pe.Db(1),pe.oc("hasShadow",!1))},directives:[Pt.e,Ze],styles:[""]}),St),_t=o("2Sd8"),Gt=o("3WbM"),Lt=((wt=function(){function t(n,c,r,o,i,s,a){var l=this;u(this,t),this.actions$=n,this.store=c,this.requestClient=r,this.companyClient=o,this.toast=i,this.router=s,this.dialog=a,this.RequestCompany$=this.actions$.pipe(Object(Vt.e)(f.RequestCompany),Object($t.a)((function(e){return e.payload})),Object(Mt.a)((function(e){return l.companyClient.fromName(e).pipe(Object(xt.a)((function(e){return[new y(e),new V(e.id)]})),Object(Ft.a)((function(e){return Object(Dt.a)(new v(e))})))}))),this.RequestSlots$=this.actions$.pipe(Object(Vt.e)(f.RequestSlots),Object(Et.a)(this.store.select(ce)),Object(xt.a)((function(t){var n=e(t,2),c=(n[0],n[1]);return l.companyClient.slots(c).pipe(Object($t.a)((function(e){return new C(e)})),Object(Ft.a)((function(e){return Object(Dt.a)(new j(e))})))}))),this.RequestCurrentRequest$=this.actions$.pipe(Object(Vt.e)(f.RequestCurrentRequest),Object($t.a)((function(e){return e.payload})),Object(xt.a)((function(e){return l.requestClient.current(e).pipe(Object($t.a)((function(e){return new W(e)})),Object(Ft.a)((function(e){return Object(Dt.a)(new j(e))})))}))),this.UpdateCurrentRequest=this.actions$.pipe(Object(Vt.e)(f.UpdateCurrentRequest),Object($t.a)((function(e){return e.payload})),Object($t.a)((function(e){return new le.e(e.itemsCount)}))),this.RequestAddAppointmentRequest$=this.actions$.pipe(Object(Vt.e)(f.RequestAddAppointmentRequest),Object(Et.a)(this.store.select(ue),this.store.select(le.l),this.store.select(ee),this.store.select(Y)),Object(xt.a)((function(t){var n=e(t,5),c=(n[0],n[1]),r=(n[2],n[3]),o=n[4],i={service:r,start:c.start};return o&&(i.employee=o),l.requestClient.createAppointment(i).pipe(Object(At.a)((function(e){return l.toast.success("Added to Cart")})),Object(At.a)((function(e){return l.closeDialog()})),Object(xt.a)((function(e){return[new O,new W(e)]})),Object(Ft.a)((function(e){return Object(Dt.a)(new j(e))})))}))),this.RequestRemoveAppointment$=this.actions$.pipe(Object(Vt.e)(f.RequestRemoveAppointment),Object($t.a)((function(e){return e.payload})),Object(Et.a)(this.store.select(ie)),Object(xt.a)((function(t){var n=e(t,2),c=n[0],r=n[1];return l.requestClient.delete(r.id,c).pipe(Object(At.a)((function(e){return l.toast.success("Appointment removed from Cart")})),Object(At.a)((function(e){return l.closeDialog()})),Object($t.a)((function(e){return new W(e)})),Object(Ft.a)((function(e){return Object(Dt.a)(new j(e))})))}))),this.RequestConfirmCart$=this.actions$.pipe(Object(Vt.e)(f.RequestConfirmCart),Object($t.a)((function(e){return e.customerNotes})),Object(Et.a)(this.store.select(ie)),Object(xt.a)((function(t){var n=e(t,2),c=n[0],r=n[1];return l.requestClient.confirm(r.id,c).pipe(Object(At.a)((function(e){return l.router.navigate(["/cust/requests"])})),Object($t.a)((function(e){return new W(e)})),Object(Ft.a)((function(e){return Object(Dt.a)(new j(e))})))}))),this.OpenSlotsForServiceDialog$=this.actions$.pipe(Object(Vt.e)(f.OpenSlotsForServiceDialog),Object($t.a)((function(e){l.dialogRef=l.dialog.open(Ut,{width:"90vw"})})))}return a(t,[{key:"closeDialog",value:function(){this.dialogRef&&this.dialogRef.close()}}]),t}()).\u0275fac=function(e){return new(e||wt)(pe.ac(Vt.a),pe.ac(p.h),pe.ac(_t.h),pe.ac(_t.c),pe.ac(Gt.a),pe.ac(l.b),pe.ac(Pt.b))},wt.\u0275prov=pe.Mb({token:wt,factory:wt.\u0275fac}),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestCompany$",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestSlots$",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestCurrentRequest$",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"UpdateCurrentRequest",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestAddAppointmentRequest$",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestRemoveAppointment$",void 0),Object(Wt.a)([Object(Vt.b)()],wt.prototype,"RequestConfirmCart$",void 0),Object(Wt.a)([Object(Vt.b)({dispatch:!1})],wt.prototype,"OpenSlotsForServiceDialog$",void 0),wt),Nt=((jt=function e(){u(this,e)}).\u0275mod=pe.Ob({type:jt}),jt.\u0275inj=pe.Nb({factory:function(e){return new(e||jt)},imports:[[Rt,i.a,s.a,p.j.forFeature("company",F),Vt.c.forFeature([Lt])]]}),jt)}}])}();