(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{M4UK:function(e,t,c){"use strict";c.r(t),c.d(t,"CompanyModule",(function(){return ht}));var s=c("PCNd"),o=c("O51e"),n=c("tyNb"),r=c("kt0X"),i=c("pLZG"),a=c("eJuo"),l=c("wd/R"),p=function(e){return e.RequestCompany="[Company] Request Company",e.UpdateCompany="[Company] Set Company",e.LoadCompanyFail="[Company] Load Company Fail",e.UpdateDate="[Company] Set Date",e.RequestSlots="[Company] Request Slots",e.UpdateSlots="[Company] Update Slots",e.UpdateCurrentSlotId="[Company] Update Current Slot Id",e.LoadSlotsFail="[Company] Load Slots Fail",e.RequestAddAppointmentRequest="[Company] Request Add Appointment to Current",e.SetCurrentEmployeeId="[Company] Set Current Employee Id",e.SetCurrentServiceId="[Company] Set Current Service Id",e.SetCurrentCategoryId="[Company] Set Current Category Id",e.ClearAppointment="[Company] Clear Appointment",e.UpdateServiceSearch="[Company] Update Service Search",e.RequestCurrentRequest="[Company] Request Current Request",e.UpdateCurrentRequest="[Company] Update Current Request",e.OpenSlotsForServiceDialog="[Company] Open Slots for Service Dialog",e.RequestRemoveAppointment="[Company] Request Remove Appointment From Request",e.RequestConfirmCart="[Company] Request Confirm Cart",e}({});class d{constructor(e){this.payload=e,this.type=p.RequestCompany}}class u{constructor(e){this.payload=e,this.type=p.UpdateCompany}}class b{constructor(e){this.payload=e,this.type=p.LoadCompanyFail}}class m{constructor(e){this.payload=e,this.type=p.UpdateDate}}class h{constructor(){this.type=p.RequestSlots}}class y{constructor(e){this.payload=e,this.type=p.UpdateSlots}}class g{constructor(e){this.id=e,this.type=p.UpdateCurrentSlotId}}class v{constructor(e){this.payload=e,this.type=p.LoadSlotsFail}}class f{constructor(){this.type=p.RequestAddAppointmentRequest}}class O{constructor(e){this.payload=e,this.type=p.SetCurrentEmployeeId}}class C{constructor(e){this.payload=e,this.type=p.SetCurrentServiceId}}class S{constructor(e){this.payload=e,this.type=p.SetCurrentCategoryId}}class j{constructor(e){this.payload=e,this.type=p.UpdateServiceSearch}}class w{constructor(e){this.payload=e,this.type=p.RequestCurrentRequest}}class q{constructor(e){this.payload=e,this.type=p.UpdateCurrentRequest}}class I{constructor(){this.type=p.OpenSlotsForServiceDialog}}class k{constructor(e){this.payload=e,this.type=p.RequestRemoveAppointment}}class V{constructor(e){this.customerNotes=e,this.type=p.RequestConfirmCart}}const W={company:null,date:l.utc().add(1,"day").toISOString(),currentEmployeeId:null,currentServiceId:null,currentCategoryId:null,serviceSearch:"",slots:[],currentSlotId:null,loadingSlots:!1,appointment:null,apiError:null,currentRequest:null};function R(e=W,t){switch(t.type){case p.UpdateCompany:let c=e.currentServiceId;if(null!==e.currentEmployeeId&&null===e.currentServiceId){const s=t.payload.employees.find(t=>t.id===e.currentEmployeeId);c=null===s?null:s.services.find(e=>e==e)}return Object.assign(Object.assign({},e),{company:t.payload,currentCategoryId:t.payload.serviceCategories.map(e=>e.id).find(e=>e==e),currentServiceId:c,apiError:null});case p.LoadCompanyFail:return Object.assign(Object.assign({},e),{apiError:t.payload});case p.UpdateDate:return Object.assign(Object.assign({},e),{date:t.payload.toISOString()});case p.RequestSlots:return Object.assign(Object.assign({},e),{loadingSlots:!0});case p.UpdateSlots:return Object.assign(Object.assign({},e),{slots:t.payload,currentSlotId:null,apiError:null,loadingSlots:!1});case p.UpdateCurrentSlotId:return Object.assign(Object.assign({},e),{currentSlotId:t.id});case p.LoadSlotsFail:return Object.assign(Object.assign({},e),{apiError:t.payload,loadingSlots:!1});case p.SetCurrentEmployeeId:return Object.assign(Object.assign({},e),{currentEmployeeId:0===t.payload?null:t.payload});case p.SetCurrentServiceId:return Object.assign(Object.assign({},e),{currentServiceId:t.payload});case p.ClearAppointment:return Object.assign(Object.assign({},e),{appointment:null});case p.SetCurrentCategoryId:return Object.assign(Object.assign({},e),{currentCategoryId:t.payload});case p.UpdateServiceSearch:return Object.assign(Object.assign({},e),{serviceSearch:t.payload});case p.UpdateCurrentRequest:return Object.assign(Object.assign({},e),{currentRequest:t.payload});default:return e}}const D=Object(r.o)("company"),$=(Object(r.q)(D,e=>e.apiError),Object(r.q)(D,e=>e.company)),M=Object(r.q)($,e=>e?e.services:null),x=Object(r.q)($,e=>e?e.serviceCategories:null),F=Object(r.q)(D,e=>e.currentCategoryId),E=Object(r.q)(M,F,(e,t)=>e?e.filter(e=>e.category===t):[]),A=Object(r.q)($,e=>e?e.employees:[]),U=Object(r.q)(A,M,(e,t)=>e.map(e=>({employee:e,services:t.filter(t=>e.services.includes(t.id))}))),G=Object(r.q)($,e=>e?e.name:""),P=Object(r.q)(D,e=>e.date),L=Object(r.q)(P,e=>l.utc(e)),_=(Object(r.q)(D,e=>e.appointment),Object(r.q)(D,e=>e.currentEmployeeId)),N=Object(r.q)(A,_,(e,t)=>null===e||null===t||0===t?null:e.find(e=>e.id===t)),K=Object(r.q)(N,M,(e,t)=>t.filter(t=>e.services.includes(t.id))),H=Object(r.q)(D,e=>e.serviceSearch),Q=Object(r.q)(K,H,(e,t)=>e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))),T=(Object(r.q)(U,_,(e,t)=>null===t||0===t?null:e.find(e=>e.employee.id===t)),Object(r.q)(D,e=>e.currentServiceId)),B=Object(r.q)(M,T,(e,t)=>null===t?null:e.find(e=>e.id===t)),Y=Object(r.q)(D,e=>e.loadingSlots),X=Object(r.q)(_,T,P,(e,t,c)=>{if(null===t||null===c)return null;const s={service:t,start:l.utc(c).startOf("day"),end:l.utc(c).add(1,"d").endOf("day")};return e&&(s.employee=e),s}),z=Object(r.q)(D,e=>{let t=0;return e.slots.map(e=>({id:t++,title:e.start.format("HH:mm")+" - "+e.end.format("HH:mm"),start:e.start,end:e.end}))}),J=(Object(r.q)(N,B,L,(e,t,c)=>{const s=new a.a;return s.service=t,s.employee=e,s.start=c,s}),Object(r.q)($,e=>e.config.preBookWarn)),Z=(Object(r.q)($,e=>e.config.postBookMessage),Object(r.q)(D,e=>e.currentRequest)),ee=Object(r.q)(Z,e=>e.items),te=(Object(r.q)(ee,e=>e.length),Object(r.q)(D,e=>e.currentSlotId)),ce=Object(r.q)(z,te,(e,t)=>e.find(e=>e.id===t));var se=c("YZpF"),oe=c("fXoL");let ne=(()=>{class e{constructor(e,t){this.route=e,this.store=t}ngOnInit(){const e=this.route.snapshot.paramMap.get("cid");this.store.dispatch(new d(e)),this.store.dispatch(new se.d(e)),this.observeAndReloadSlots()}ngOnDestroy(){this.subscription.unsubscribe(),this.store.dispatch(new se.d(null))}observeAndReloadSlots(){this.subscription=this.store.pipe(Object(r.t)(X),Object(i.a)(e=>null!==e)).subscribe(e=>this.store.dispatch(new h))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(n.a),oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-shell"]],decls:1,vars:0,template:function(e,t){1&e&&oe.Rb(0,"router-outlet")},directives:[n.g],styles:[""]}),e})();var re=c("r32Y"),ie=c("ofXK");let ae=(()=>{class e{constructor(){this.selectEmployee=new oe.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-list-card"]],inputs:{model:"model"},outputs:{selectEmployee:"selectEmployee"},decls:9,vars:4,consts:[[1,"emp-card-container"],[1,"company-circle-img",3,"src"],[1,"emp-card-content"],[1,"h4"],[1,"emp-card-button"],[1,"btn","btn-primary-gradient",3,"routerLink"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Rb(1,"img",1),oe.Wb(2,"div",2),oe.Wb(3,"div",3),oe.Gc(4),oe.Vb(),oe.Gc(5),oe.Wb(6,"div",4),oe.Wb(7,"button",5),oe.Gc(8," Book appointment "),oe.Vb(),oe.Vb(),oe.Vb(),oe.Vb()),2&e&&(oe.Db(1),oe.pc("src",t.model.employee.photoUrl,oe.zc),oe.Db(3),oe.Ic(" ",t.model.employee.name," "),oe.Db(1),oe.Ic(" ",t.model.employee.bio," "),oe.Db(2),oe.qc("routerLink","staff/",t.model.employee.id,""))},directives:[n.c],styles:[".emp-card-container[_ngcontent-%COMP%]{display:flex}.emp-card-content[_ngcontent-%COMP%]{text-align:right;width:100%}.emp-card-button[_ngcontent-%COMP%]{position:absolute;bottom:0;right:15px}.h4[_ngcontent-%COMP%]{text-transform:uppercase}"]}),e})();function le(e,t){if(1&e&&(oe.Wb(0,"div",3),oe.Rb(1,"company-employee-list-card",4),oe.Vb()),2&e){const e=t.$implicit;oe.Db(1),oe.oc("model",e)}}let pe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-list"]],inputs:{employees:"employees",companyName:"companyName"},decls:4,vars:1,consts:[[1,"row"],[1,"col-12","h1"],["class","col-sm-12 col-md-6 emp-card-box",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","emp-card-box"],[3,"model"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Wb(1,"div",1),oe.Gc(2," OUR TEAM "),oe.Vb(),oe.Ec(3,le,2,1,"div",2),oe.Vb()),2&e&&(oe.Db(3),oe.oc("ngForOf",t.employees))},directives:[ie.k,ae],styles:[".emp-card-box[_ngcontent-%COMP%]{margin-bottom:40px;padding-left:25px;padding-right:25px}"]}),e})(),de=(()=>{class e extends re.a{constructor(e){super(e),this.store=e}ngOnInit(){this.employees$=this.store.pipe(Object(r.t)(U)),this.companyName$=this.store.pipe(Object(r.t)(G))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employees-shell"]],features:[oe.Ab],decls:3,vars:6,consts:[[3,"employees","companyName"]],template:function(e,t){1&e&&(oe.Rb(0,"company-employee-list",0),oe.jc(1,"async"),oe.jc(2,"async")),2&e&&oe.oc("employees",oe.kc(1,2,t.employees$))("companyName",oe.kc(2,4,t.companyName$))},directives:[pe],pipes:[ie.b],styles:[""]}),e})();function ue(e,t){if(1&e&&(oe.Wb(0,"div",1),oe.Rb(1,"img",2),oe.Wb(2,"h1",3),oe.Gc(3),oe.Vb(),oe.Vb()),2&e){const e=oe.ic();oe.Db(1),oe.pc("src",e.employee.photoUrl,oe.zc),oe.Db(2),oe.Hc(e.employee.name)}}let be=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-details-card"]],inputs:{employee:"employee",companyName:"companyName"},decls:1,vars:1,consts:[["class","employee-details-card-container",4,"ngIf"],[1,"employee-details-card-container"],[1,"company-circle-img",3,"src"],[1,"w-100","text-right"]],template:function(e,t){1&e&&oe.Ec(0,ue,4,2,"div",0),2&e&&oe.oc("ngIf",t.employee)},directives:[ie.l],styles:[".employee-details-card-container[_ngcontent-%COMP%]{display:flex}.blob-holder[_ngcontent-%COMP%]{max-height:20rem}"]}),e})();var me=c("kmnG"),he=c("qFsG"),ye=c("3Pt+"),ge=c("NFeN"),ve=c("3lmY"),fe=c("Qu3c"),Oe=c("QibW");let Ce=(()=>{class e{constructor(){this.selected=new oe.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-service-list-card"]],inputs:{service:"service",checked:"checked"},outputs:{selected:"selected"},decls:11,vars:6,consts:[[1,"service-list-card-container"],[1,"card-title-container"],[3,"matTooltip"],["color","accent",3,"checked","value","click"],[1,"c-primary","text-right"],[1,"tiny","light-grey"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Wb(1,"div",1),oe.Wb(2,"h6",2),oe.Gc(3),oe.Vb(),oe.Vb(),oe.Wb(4,"div"),oe.Wb(5,"mat-radio-button",3),oe.ec("click",(function(){return t.selected.emit(t.service.id)})),oe.Vb(),oe.Vb(),oe.Wb(6,"div",4),oe.Wb(7,"p"),oe.Gc(8),oe.Vb(),oe.Wb(9,"p",5),oe.Gc(10),oe.Vb(),oe.Vb(),oe.Vb()),2&e&&(oe.Db(2),oe.oc("matTooltip",t.service.name),oe.Db(1),oe.Hc(t.service.name),oe.Db(2),oe.oc("checked",t.checked)("value",t.service.id),oe.Db(3),oe.Hc(t.service.price),oe.Db(2),oe.Ic("ETA: ",t.service.duration,""))},directives:[fe.a,Oe.a],styles:[".service-list-card-container[_ngcontent-%COMP%]{display:flex;border-bottom:1px solid #a1a1a1;margin-bottom:15px;margin-right:20px;white-space:nowrap}.card-title-container[_ngcontent-%COMP%]{text-transform:capitalize;overflow-x:hidden;width:100%}h6[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:0}.select-circle[_ngcontent-%COMP%]{background:linear-gradient(247.82deg,#f2a1a1,#aa83c3 200.13%);transform:matrix(-1,0,0,1,0,0)}"]}),e})();function Se(e,t){if(1&e){const e=oe.Xb();oe.Wb(0,"div",6),oe.Wb(1,"company-service-list-card",7),oe.ec("selected",(function(t){return oe.yc(e),oe.ic().select.emit(t)})),oe.Vb(),oe.Vb()}if(2&e){const e=t.$implicit,c=oe.ic();oe.Db(1),oe.oc("service",e)("checked",e.id===c.selected)}}let je=(()=>{class e{constructor(){this.searchChange=new oe.o,this.select=new oe.o}set search(e){this.searchValue=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-details-services"]],inputs:{services:"services",selected:"selected",search:"search"},outputs:{searchChange:"searchChange",select:"select"},decls:10,vars:2,consts:[[1,"search-box-container","mb-3","company-shadow-0"],[1,"w-100"],["autocomplete","off","matInput","","placeholder","search",3,"ngModel","ngModelChange","keyup"],["matSuffix","","color","primary"],[1,"row","pretty-scroll"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Wb(1,"mat-form-field",1),oe.Wb(2,"mat-label"),oe.Gc(3,"Search"),oe.Vb(),oe.Wb(4,"input",2),oe.ec("ngModelChange",(function(e){return t.searchValue=e}))("keyup",(function(){return t.searchChange.emit(t.searchValue)})),oe.Vb(),oe.Wb(5,"mat-icon",3),oe.Gc(6,"search"),oe.Vb(),oe.Vb(),oe.Vb(),oe.Wb(7,"app-kalendario-card"),oe.Wb(8,"div",4),oe.Ec(9,Se,2,2,"div",5),oe.Vb(),oe.Vb()),2&e&&(oe.Db(4),oe.oc("ngModel",t.searchValue),oe.Db(5),oe.oc("ngForOf",t.services))},directives:[me.b,me.e,he.b,ye.b,ye.n,ye.q,ge.a,me.f,ve.a,ie.k,Ce],styles:[".search-box-container[_ngcontent-%COMP%]{padding:1rem 2rem .5rem;border-radius:10px;background-color:#fff}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;max-height:26.75rem}"]}),e})(),we=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(new j("")),this.services$=this.store.select(Q),this.selected$=this.store.select(T),this.search$=this.store.select(H)}setSearch(e){this.store.dispatch(new j(e))}setCurrentService(e){this.store.dispatch(new C(e))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-details-services-shell"]],decls:4,vars:9,consts:[[3,"services","search","selected","searchChange","select"]],template:function(e,t){1&e&&(oe.Wb(0,"company-employee-details-services",0),oe.ec("searchChange",(function(e){return t.setSearch(e)}))("select",(function(e){return t.setCurrentService(e)})),oe.jc(1,"async"),oe.jc(2,"async"),oe.jc(3,"async"),oe.Vb()),2&e&&oe.oc("services",oe.kc(1,3,t.services$))("search",oe.kc(2,5,t.search$))("selected",oe.kc(3,7,t.selected$))},directives:[je],pipes:[ie.b],styles:[""]}),e})();var qe=c("bTqV"),Ie=c("iadO"),ke=c("Xa2L");let Ve=(()=>{class e{constructor(){this.eventClick=new oe.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-service-slot"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},outputs:{eventClick:"eventClick"},decls:3,vars:3,consts:[[1,"slot-container","bs-primary","m-auto",3,"click"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.ec("click",(function(){return t.eventClick.emit()})),oe.Wb(1,"p"),oe.Gc(2),oe.Vb(),oe.Vb()),2&e&&(oe.Hb("bg-primary-gradient",t.slot.id===t.currentSlotId),oe.Db(2),oe.Hc(t.slot.title))},styles:["p[_ngcontent-%COMP%]{margin:0}.slot-container[_ngcontent-%COMP%]{padding:.5rem;border-radius:3px;text-align:center;width:10rem;cursor:pointer}"]}),e})(),We=(()=>{class e{constructor(e){this.store=e}selectSlot(){this.store.dispatch(new g(this.slot.id))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-service-slot-shell"]],inputs:{slot:"slot",currentSlotId:"currentSlotId"},decls:1,vars:2,consts:[[3,"slot","currentSlotId","eventClick"]],template:function(e,t){1&e&&(oe.Wb(0,"company-service-slot",0),oe.ec("eventClick",(function(){return t.selectSlot()})),oe.Vb()),2&e&&oe.oc("slot",t.slot)("currentSlotId",t.currentSlotId)},directives:[Ve],styles:[""]}),e})();function Re(e,t){1&e&&(oe.Wb(0,"div",17),oe.Rb(1,"mat-spinner",18),oe.Vb())}function De(e,t){if(1&e&&(oe.Wb(0,"h5",19),oe.Gc(1),oe.Vb()),2&e){const e=oe.ic();oe.Db(1),oe.Hc(e.service.name)}}function $e(e,t){if(1&e&&(oe.Wb(0,"div",22),oe.Rb(1,"company-service-slot-shell",23),oe.Vb()),2&e){const e=t.$implicit,c=oe.ic(2);oe.Db(1),oe.oc("slot",e)("currentSlotId",c.currentSlotId)}}function Me(e,t){if(1&e&&(oe.Wb(0,"div",22),oe.Rb(1,"company-service-slot-shell",23),oe.Vb()),2&e){const e=t.$implicit,c=oe.ic(2);oe.Db(1),oe.oc("slot",e)("currentSlotId",c.currentSlotId)}}function xe(e,t){if(1&e&&(oe.Ub(0),oe.Wb(1,"div",20),oe.Ec(2,$e,2,2,"div",21),oe.Vb(),oe.Wb(3,"div",20),oe.Ec(4,Me,2,2,"div",21),oe.Vb(),oe.Tb()),2&e){const e=oe.ic();oe.Db(2),oe.oc("ngForOf",e.currentDateSlots()),oe.Db(2),oe.oc("ngForOf",e.nextDaySlots())}}let Fe=(()=>{class e{constructor(){this.isMobile=!1,this.isLoading=!1,this.hasShadow=!0,this.dateChange=new oe.o,this.book=new oe.o}set date(e){this.currentDate=e,this.nextDate=e.clone().add(1,"d"),this.currentDateFormatted=this.currentDate.format("ddd DD/MM/YYYY"),this.nextDayFormatted=this.nextDate.format("ddd DD/MM/YYYY")}today(){this.dateChange.emit(l.utc())}previousDay(){this.dateChange.emit(this.currentDate.subtract(1,"day"))}nextDay(){this.dateChange.emit(this.currentDate.add(1,"day"))}currentDateSlots(){return this.serviceSlots.filter(e=>e.start.date()===this.currentDate.date())}nextDaySlots(){return this.serviceSlots.filter(e=>e.start.date()===this.nextDate.date())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-slots-for-service"]],inputs:{serviceSlots:"serviceSlots",currentSlotId:"currentSlotId",isMobile:"isMobile",isLoading:"isLoading",hasShadow:"hasShadow",date:"date",service:"service"},outputs:{dateChange:"dateChange",book:"book"},decls:26,vars:11,consts:[[3,"hasShadow"],[1,"text-center","mb-2"],[1,"btn","btn-primary","mr-2",3,"disabled","click"],[1,"btn","btn-accent",3,"click"],["mat-icon-button","","color","accent",3,"click"],[1,"icon"],["matInput","","readonly","",3,"value","matDatepicker","click","dateChange"],["matSuffix","",3,"for"],[3,"touchUi"],["dpAppointmentDashboard",""],[1,"slots-container"],[1,"row","no-gutters","text-center","pretty-scroll"],["class","col-12",4,"ngIf"],["class","col-12 c-accent pb-3 mb-0 sticky-top bg-white",4,"ngIf"],[1,"col-6","pb-3","sticky-top-3","bg-white"],[1,"col-6","sticky-top-3","bg-white"],[4,"ngIf"],[1,"col-12"],[1,"m-auto"],[1,"col-12","c-accent","pb-3","mb-0","sticky-top","bg-white"],[1,"col-6"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[3,"slot","currentSlotId"]],template:function(e,t){if(1&e){const e=oe.Xb();oe.Wb(0,"app-kalendario-card",0),oe.Wb(1,"div",1),oe.Wb(2,"button",2),oe.ec("click",(function(){return t.book.emit()})),oe.Gc(3," Book Now "),oe.Vb(),oe.Wb(4,"button",3),oe.ec("click",(function(){return t.today()})),oe.Gc(5," Today "),oe.Vb(),oe.Wb(6,"button",4),oe.ec("click",(function(){return t.previousDay()})),oe.Wb(7,"mat-icon",5),oe.Gc(8,"chevron_left"),oe.Vb(),oe.Vb(),oe.Wb(9,"button",4),oe.ec("click",(function(){return t.nextDay()})),oe.Wb(10,"mat-icon",5),oe.Gc(11,"chevron_right"),oe.Vb(),oe.Vb(),oe.Wb(12,"mat-form-field"),oe.Wb(13,"input",6),oe.ec("click",(function(){return oe.yc(e),oe.vc(16).open()}))("dateChange",(function(e){return t.dateChange.emit(e.value)})),oe.Vb(),oe.Rb(14,"mat-datepicker-toggle",7),oe.Rb(15,"mat-datepicker",8,9),oe.Vb(),oe.Vb(),oe.Wb(17,"div",10),oe.Wb(18,"div",11),oe.Ec(19,Re,2,0,"div",12),oe.Ec(20,De,2,1,"h5",13),oe.Wb(21,"h5",14),oe.Gc(22),oe.Vb(),oe.Wb(23,"h5",15),oe.Gc(24),oe.Vb(),oe.Ec(25,xe,5,2,"ng-container",16),oe.Vb(),oe.Vb(),oe.Vb()}if(2&e){const e=oe.vc(16);oe.oc("hasShadow",t.hasShadow),oe.Db(2),oe.oc("disabled",null===t.currentSlotId),oe.Db(11),oe.oc("value",t.currentDate)("matDatepicker",e),oe.Db(1),oe.oc("for",e),oe.Db(1),oe.pc("touchUi",t.isMobile),oe.Db(4),oe.oc("ngIf",t.isLoading),oe.Db(1),oe.oc("ngIf",t.service),oe.Db(2),oe.Hc(t.currentDateFormatted),oe.Db(2),oe.Hc(t.nextDayFormatted),oe.Db(1),oe.oc("ngIf",!t.isLoading)}},directives:[ve.a,qe.a,ge.a,me.b,he.b,Ie.b,Ie.d,me.f,Ie.a,ie.l,ke.b,ie.k,We],styles:[".card-container[_ngcontent-%COMP%]{max-width:632px}.pretty-scroll[_ngcontent-%COMP%]{overflow-y:scroll;min-height:28.5rem;height:28.5rem;max-height:28.5rem}@supports ((position:-webkit-sticky) or (position:sticky)){.sticky-top-3[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:2.5rem;z-index:50}}"]}),e})(),Ee=(()=>{class e extends re.a{constructor(e){super(e),this.store=e,this.hasShadow=!0}ngOnInit(){this.events$=this.store.select(z),this.getCurrentSlotId$=this.store.select(te),this.date$=this.store.select(L),this.service$=this.store.select(B),this.isLoading$=this.store.select(Y)}setDate(e){this.store.dispatch(new m(e))}addToCart(){this.store.dispatch(new f)}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-slots-for-service-shell"]],inputs:{hasShadow:"hasShadow"},features:[oe.Ab],decls:7,vars:19,consts:[[3,"serviceSlots","currentSlotId","date","service","isLoading","hasShadow","isMobile","dateChange","book"]],template:function(e,t){1&e&&(oe.Wb(0,"company-slots-for-service",0),oe.ec("dateChange",(function(e){return t.setDate(e)}))("book",(function(){return t.addToCart()})),oe.jc(1,"async"),oe.jc(2,"async"),oe.jc(3,"async"),oe.jc(4,"async"),oe.jc(5,"async"),oe.jc(6,"async"),oe.Vb()),2&e&&oe.oc("serviceSlots",oe.kc(1,7,t.events$))("currentSlotId",oe.kc(2,9,t.getCurrentSlotId$))("date",oe.kc(3,11,t.date$))("service",oe.kc(4,13,t.service$))("isLoading",oe.kc(5,15,t.isLoading$))("hasShadow",t.hasShadow)("isMobile",oe.kc(6,17,t.isMobile$))},directives:[Fe],pipes:[ie.b],styles:[""]}),e})();function Ae(e,t){if(1&e&&(oe.Wb(0,"div",1),oe.Wb(1,"div",2),oe.Rb(2,"company-employee-details-card",3),oe.jc(3,"async"),oe.Vb(),oe.Wb(4,"div",4),oe.Wb(5,"div",5),oe.Rb(6,"company-employee-details-services-shell"),oe.Vb(),oe.Wb(7,"div",5),oe.Rb(8,"company-slots-for-service-shell"),oe.Vb(),oe.Vb(),oe.Vb()),2&e){const e=t.ngIf,c=oe.ic();oe.Db(2),oe.oc("employee",e)("companyName",oe.kc(3,2,c.companyName$))}}let Ue=(()=>{class e extends re.a{constructor(e,t){super(e),this.store=e,this.route=t}ngOnInit(){const e=+this.route.snapshot.paramMap.get("id");this.store.dispatch(new O(e)),this.model$=this.store.select(N),this.companyName$=this.store.select(G)}ngOnDestroy(){this.store.dispatch(new O(null))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h),oe.Qb(n.a))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-employee-details-page"]],features:[oe.Ab],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"m-4"],[3,"employee","companyName"],[1,"row"],[1,"col-sm-12","col-md-6","mb-2"]],template:function(e,t){1&e&&(oe.Ec(0,Ae,9,4,"div",0),oe.jc(1,"async")),2&e&&oe.oc("ngIf",oe.kc(1,1,t.model$))},directives:[ie.l,be,we,Ee],pipes:[ie.b],styles:[".employee-services-container[_ngcontent-%COMP%]{padding:1rem}"],changeDetection:0}),e})();var Ge=c("vqYj");function Pe(e,t){if(1&e&&oe.Rb(0,"shared-company-avatar",1),2&e){const e=t.ngIf;oe.oc("logo",e.avatarUrl)("name",e.name)("address",e.address)}}let Le=(()=>{class e{constructor(e){this.store=e,this.company$=e.select($)}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-logo-shell"]],decls:2,vars:3,consts:[[3,"logo","name","address",4,"ngIf"],[3,"logo","name","address"]],template:function(e,t){1&e&&(oe.Ec(0,Pe,1,3,"shared-company-avatar",0),oe.jc(1,"async")),2&e&&oe.oc("ngIf",oe.kc(1,1,t.company$))},directives:[ie.l,Ge.a],pipes:[ie.b],styles:[""]}),e})();function _e(e,t){if(1&e){const e=oe.Xb();oe.Wb(0,"div",7),oe.ec("click",(function(){oe.yc(e);const c=t.$implicit;return oe.ic().selectCategory.emit(c.id)})),oe.Gc(1),oe.Vb()}if(2&e){const e=t.$implicit,c=oe.ic();oe.Hb("selected-category",e.id===c.currentCategoryId),oe.Db(1),oe.Ic(" ",e.name," ")}}function Ne(e,t){if(1&e){const e=oe.Xb();oe.Wb(0,"div",8),oe.Wb(1,"company-service-list-card",9),oe.ec("selected",(function(t){return oe.yc(e),oe.ic().selectService.emit(t)})),oe.Vb(),oe.Vb()}if(2&e){const e=t.$implicit,c=oe.ic();oe.Db(1),oe.oc("service",e)("checked",e.id===c.currentServiceId)}}let Ke=(()=>{class e{constructor(){this.selectCategory=new oe.o,this.selectService=new oe.o}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-service-list"]],inputs:{services:"services",categories:"categories",currentCategoryId:"currentCategoryId",currentServiceId:"currentServiceId"},outputs:{selectCategory:"selectCategory",selectService:"selectService"},decls:10,vars:4,consts:[[1,"h1"],[1,"s-l-container"],[1,"s-l-categories"],["class","mb-4 s-l-item",3,"selected-category","click",4,"ngFor","ngForOf"],[1,"s-l-item",3,"click"],[1,"row","no-gutters","pretty-scroll"],["class","col-sm-12 col-md-6",4,"ngFor","ngForOf"],[1,"mb-4","s-l-item",3,"click"],[1,"col-sm-12","col-md-6"],[3,"service","checked","selected"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Gc(1," ALL SERVICES\n"),oe.Vb(),oe.Wb(2,"app-kalendario-card"),oe.Wb(3,"div",1),oe.Wb(4,"div",2),oe.Ec(5,_e,2,3,"div",3),oe.Wb(6,"div",4),oe.ec("click",(function(){return t.selectCategory.emit(null)})),oe.Gc(7," Other "),oe.Vb(),oe.Vb(),oe.Wb(8,"div",5),oe.Ec(9,Ne,2,2,"div",6),oe.Vb(),oe.Vb(),oe.Vb()),2&e&&(oe.Db(5),oe.oc("ngForOf",t.categories),oe.Db(1),oe.Hb("selected-category",null===t.currentCategoryId),oe.Db(3),oe.oc("ngForOf",t.services))},directives:[ve.a,ie.k,Ce],styles:[".s-l-container[_ngcontent-%COMP%]{display:flex;padding:2em}.row[_ngcontent-%COMP%]{max-height:400px;min-height:400px;width:100%;overflow-y:scroll}.selected-category[_ngcontent-%COMP%]{border-bottom:1px solid #aaa}.s-l-categories[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px;margin-right:2em;font-weight:600;font-size:14px;line-height:17px;letter-spacing:.12em}.s-l-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),He=(()=>{class e{constructor(e){this.store=e,this.services$=this.store.select(E),this.categories$=this.store.select(x),this.currentCategoryId$=this.store.select(F),this.currentServiceId$=this.store.select(T)}updateSelectedCategory(e){this.store.dispatch(new S(e))}updateSelectedService(e){this.store.dispatch(new C(e)),this.store.dispatch(new I)}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-services-shell"]],decls:5,vars:12,consts:[[3,"services","categories","currentCategoryId","currentServiceId","selectCategory","selectService"]],template:function(e,t){1&e&&(oe.Wb(0,"company-service-list",0),oe.ec("selectCategory",(function(e){return t.updateSelectedCategory(e)}))("selectService",(function(e){return t.updateSelectedService(e)})),oe.jc(1,"async"),oe.jc(2,"async"),oe.jc(3,"async"),oe.jc(4,"async"),oe.Vb()),2&e&&oe.oc("services",oe.kc(1,4,t.services$))("categories",oe.kc(2,6,t.categories$))("currentCategoryId",oe.kc(3,8,t.currentCategoryId$))("currentServiceId",oe.kc(4,10,t.currentServiceId$))},directives:[Ke],pipes:[ie.b],styles:[""]}),e})(),Qe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-landing-page"]],decls:12,vars:0,consts:[[1,"container","kalendario-company"],[1,"mb-100"]],template:function(e,t){1&e&&(oe.Wb(0,"div"),oe.Wb(1,"div",0),oe.Wb(2,"div",1),oe.Rb(3,"company-logo-shell"),oe.Vb(),oe.Wb(4,"div",1),oe.Rb(5,"company-services-shell"),oe.Vb(),oe.Wb(6,"div",1),oe.Rb(7,"company-employees-shell"),oe.Vb(),oe.Wb(8,"div",1),oe.Wb(9,"h1"),oe.Gc(10,"ABOUT US"),oe.Vb(),oe.Gc(11," Etiam pulvinar scelerisque urna ornare cursus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Etiam lorem ipsum, maximus vitae eros id, mollis ornare purus. Sed interdum enim a leo ullamcorper lobortis. In ligula mi, consectetur at elit ac, varius efficitur eros. Morbi mollis ante sit amet quam mollis rhoncus. Nunc nec neque nisi. In vitae velit in turpis rutrum pharetra vel in odio. Proin ut placerat est, at semper elit. Sed vestibulum molestie eros et feugiat. Fusce non augue ac massa suscipit fringilla. Proin quam lorem, molestie vitae nulla et, mattis dictum ipsum. Morbi ut mattis est. Proin eu mi ac purus sollicitudin posuere nec ac dui. Etiam et diam molestie, imperdiet purus eu, ultricies urna. "),oe.Vb(),oe.Vb(),oe.Vb())},directives:[Le,He,de],styles:[""]}),e})();var Te=c("6t+O");function Be(e,t){if(1&e&&(oe.Ub(0),oe.Wb(1,"div",8),oe.Gc(2),oe.Vb(),oe.Wb(3,"div",9),oe.Gc(4),oe.Vb(),oe.Tb()),2&e){const e=t.$implicit;oe.Db(2),oe.Hc(e.service.name),oe.Db(2),oe.Hc(e.service.price)}}let Ye=(()=>{class e{constructor(){this.confirm=new oe.o}appointments(){return this.request.items.reduce((e,t)=>e.concat(t.appointments),[])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=oe.Kb({type:e,selectors:[["company-cart-summary"]],inputs:{request:"request",preBookMessage:"preBookMessage"},outputs:{confirm:"confirm"},decls:19,vars:7,consts:[[1,"row","m-4"],[1,"col-12"],[1,"col-12","m-4"],[4,"ngFor","ngForOf"],[1,"col-9","h5"],[1,"col-3","h5","text-right","c-primary"],["matInput","","placeholder","additional information",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"w-100",3,"click"],[1,"col-9"],[1,"col-3","text-right","c-primary"]],template:function(e,t){1&e&&(oe.Wb(0,"app-kalendario-card"),oe.Wb(1,"div",0),oe.Wb(2,"div",1),oe.Rb(3,"company-logo-shell"),oe.Vb(),oe.Wb(4,"div",2),oe.Gc(5),oe.Vb(),oe.Ec(6,Be,5,2,"ng-container",3),oe.Rb(7,"div",2),oe.Wb(8,"div",4),oe.Gc(9," TOTAL "),oe.Vb(),oe.Wb(10,"div",5),oe.Gc(11),oe.jc(12,"currency"),oe.Vb(),oe.Wb(13,"div",1),oe.Wb(14,"mat-form-field"),oe.Wb(15,"textarea",6),oe.ec("ngModelChange",(function(e){return t.customerNotes=e})),oe.Vb(),oe.Vb(),oe.Vb(),oe.Wb(16,"div",1),oe.Wb(17,"button",7),oe.ec("click",(function(){return t.confirm.emit(t.customerNotes)})),oe.Gc(18,"process request"),oe.Vb(),oe.Vb(),oe.Vb(),oe.Vb()),2&e&&(oe.Db(5),oe.Ic(" ",t.preBookMessage," "),oe.Db(1),oe.oc("ngForOf",t.appointments()),oe.Db(5),oe.Hc(oe.lc(12,4,t.request.total,"\u20ac")),oe.Db(4),oe.oc("ngModel",t.customerNotes))},directives:[ve.a,Le,ie.k,me.b,he.b,ye.b,ye.n,ye.q,qe.a],pipes:[ie.d],styles:[".row[_ngcontent-%COMP%]{font-weight:500}.col-9[_ngcontent-%COMP%]{margin-bottom:1rem}"]}),e})();function Xe(e,t){if(1&e){const e=oe.Xb();oe.Wb(0,"div",2),oe.Wb(1,"div",3),oe.Wb(2,"company-request",4),oe.ec("remove",(function(t){return oe.yc(e),oe.ic().removeItem(t)})),oe.Vb(),oe.Vb(),oe.Wb(3,"div",3),oe.Wb(4,"company-cart-summary",5),oe.ec("confirm",(function(t){return oe.yc(e),oe.ic().confirm(t)})),oe.jc(5,"async"),oe.Vb(),oe.Vb(),oe.Vb()}if(2&e){const e=t.ngIf,c=oe.ic();oe.Db(2),oe.oc("request",e),oe.Db(2),oe.oc("request",e)("preBookMessage",oe.kc(5,3,c.preBookMessage$))}}let ze=(()=>{class e{constructor(e){this.store=e}ngOnInit(){this.request$=this.store.select(Z),this.preBookMessage$=this.store.select(J)}removeItem(e){this.store.dispatch(new k(e))}confirm(e){this.store.dispatch(new V(e))}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(r.h))},e.\u0275cmp=oe.Kb({type:e,selectors:[["app-cart-page"]],decls:3,vars:3,consts:[[1,"container"],["class","row mt-4",4,"ngIf"],[1,"row","mt-4"],[1,"col-sm-12","col-md-6"],[3,"request","remove"],[3,"request","preBookMessage","confirm"]],template:function(e,t){1&e&&(oe.Wb(0,"div",0),oe.Ec(1,Xe,6,5,"div",1),oe.jc(2,"async"),oe.Vb()),2&e&&(oe.Db(1),oe.oc("ngIf",oe.kc(2,1,t.request$)))},directives:[ie.l,Te.a,Ye],pipes:[ie.b],styles:[""]}),e})();var Je=c("LjFu");const Ze=[{path:":cid",component:ne,children:[{path:"staff",component:de},{path:"staff/:id",component:Ue},{path:"cart",component:ze,canActivate:[Je.a]},{path:"",component:Qe}]}];let et=(()=>{class e{}return e.\u0275mod=oe.Ob({type:e}),e.\u0275inj=oe.Nb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(Ze)],n.f]}),e})();var tt=c("snw9"),ct=c("mrSG"),st=c("LRne"),ot=c("lJxs"),nt=c("eIep"),rt=c("5+tZ"),it=c("JIr8"),at=c("zp1y"),lt=c("vkgz"),pt=c("0IaG");let dt=(()=>{class e{constructor(e){this.dialogRef=e}}return e.\u0275fac=function(t){return new(t||e)(oe.Qb(pt.g))},e.\u0275cmp=oe.Kb({type:e,selectors:[["app-slots-for-service-dialog"]],decls:2,vars:1,consts:[[3,"hasShadow"]],template:function(e,t){1&e&&(oe.Wb(0,"mat-dialog-content"),oe.Rb(1,"company-slots-for-service-shell",0),oe.Vb()),2&e&&(oe.Db(1),oe.oc("hasShadow",!1))},directives:[pt.e,Ee],styles:[""]}),e})();var ut=c("2Sd8"),bt=c("3WbM");let mt=(()=>{class e{constructor(e,t,c,s,o,n,r){this.actions$=e,this.store=t,this.requestClient=c,this.companyClient=s,this.toast=o,this.router=n,this.dialog=r,this.RequestCompany$=this.actions$.pipe(Object(tt.e)(p.RequestCompany),Object(ot.a)(e=>e.payload),Object(nt.a)(e=>this.companyClient.fromName(e).pipe(Object(rt.a)(e=>[new u(e),new w(e.id)]),Object(it.a)(e=>Object(st.a)(new b(e)))))),this.RequestSlots$=this.actions$.pipe(Object(tt.e)(p.RequestSlots),Object(at.a)(this.store.select(X)),Object(rt.a)(([e,t])=>this.companyClient.slots(t).pipe(Object(ot.a)(e=>new y(e)),Object(it.a)(e=>Object(st.a)(new v(e)))))),this.RequestCurrentRequest$=this.actions$.pipe(Object(tt.e)(p.RequestCurrentRequest),Object(ot.a)(e=>e.payload),Object(rt.a)(e=>this.requestClient.current(e).pipe(Object(ot.a)(e=>new q(e)),Object(it.a)(e=>Object(st.a)(new v(e)))))),this.UpdateCurrentRequest=this.actions$.pipe(Object(tt.e)(p.UpdateCurrentRequest),Object(ot.a)(e=>e.payload),Object(ot.a)(e=>new se.e(e.itemsCount))),this.RequestAddAppointmentRequest$=this.actions$.pipe(Object(tt.e)(p.RequestAddAppointmentRequest),Object(at.a)(this.store.select(ce),this.store.select(se.l),this.store.select(T),this.store.select(_)),Object(rt.a)(([e,t,c,s,o])=>{const n={service:s,start:t.start};return o&&(n.employee=o),this.requestClient.createAppointment(n).pipe(Object(lt.a)(e=>this.toast.success("Added to Cart")),Object(lt.a)(e=>this.closeDialog()),Object(rt.a)(e=>[new h,new q(e)]),Object(it.a)(e=>Object(st.a)(new v(e))))})),this.RequestRemoveAppointment$=this.actions$.pipe(Object(tt.e)(p.RequestRemoveAppointment),Object(ot.a)(e=>e.payload),Object(at.a)(this.store.select(Z)),Object(rt.a)(([e,t])=>this.requestClient.delete(t.id,e).pipe(Object(lt.a)(e=>this.toast.success("Appointment removed from Cart")),Object(lt.a)(e=>this.closeDialog()),Object(ot.a)(e=>new q(e)),Object(it.a)(e=>Object(st.a)(new v(e)))))),this.RequestConfirmCart$=this.actions$.pipe(Object(tt.e)(p.RequestConfirmCart),Object(ot.a)(e=>e.customerNotes),Object(at.a)(this.store.select(Z)),Object(rt.a)(([e,t])=>this.requestClient.confirm(t.id,e).pipe(Object(lt.a)(e=>this.router.navigate(["/cust/requests"])),Object(ot.a)(e=>new q(e)),Object(it.a)(e=>Object(st.a)(new v(e)))))),this.OpenSlotsForServiceDialog$=this.actions$.pipe(Object(tt.e)(p.OpenSlotsForServiceDialog),Object(ot.a)(e=>{this.dialogRef=this.dialog.open(dt,{width:"90vw"})}))}closeDialog(){this.dialogRef&&this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(oe.ac(tt.a),oe.ac(r.h),oe.ac(ut.h),oe.ac(ut.c),oe.ac(bt.a),oe.ac(n.b),oe.ac(pt.b))},e.\u0275prov=oe.Mb({token:e,factory:e.\u0275fac}),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestCompany$",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestSlots$",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestCurrentRequest$",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"UpdateCurrentRequest",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestAddAppointmentRequest$",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestRemoveAppointment$",void 0),Object(ct.a)([Object(tt.b)()],e.prototype,"RequestConfirmCart$",void 0),Object(ct.a)([Object(tt.b)({dispatch:!1})],e.prototype,"OpenSlotsForServiceDialog$",void 0),e})(),ht=(()=>{class e{}return e.\u0275mod=oe.Ob({type:e}),e.\u0275inj=oe.Nb({factory:function(t){return new(t||e)},imports:[[et,s.a,o.a,r.j.forFeature("company",R),tt.c.forFeature([mt])]]}),e})()}}]);